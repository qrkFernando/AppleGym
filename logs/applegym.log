2025-10-21 19:12:55.446 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-10-21 19:12:55.535 [main] INFO  com.applegym.AppleGymApplication - Starting AppleGymApplication using Java 22.0.1 with PID 19404 (D:\ATAHUALPA\AppleGym\target\classes started by Usuario in D:\ATAHUALPA\AppleGym)
2025-10-21 19:12:55.537 [main] INFO  com.applegym.AppleGymApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-21 19:12:56.244 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-21 19:12:56.349 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 97 ms. Found 8 JPA repository interfaces.
2025-10-21 19:12:56.942 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-21 19:12:56.954 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-10-21 19:12:56.958 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-21 19:12:56.960 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-21 19:12:57.054 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-21 19:12:57.054 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1478 ms
2025-10-21 19:12:57.186 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-21 19:12:57.246 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-21 19:12:57.283 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-21 19:12:57.512 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-21 19:12:57.536 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 19:12:57.684 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3feebf9c
2025-10-21 19:12:57.687 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-21 19:12:58.760 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-21 19:12:59.021 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 19:12:59.319 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-21 19:13:00.532 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@490bc86e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2a0f625c, org.springframework.security.web.context.SecurityContextHolderFilter@198d9e3b, org.springframework.security.web.header.HeaderWriterFilter@c1f6a16, org.springframework.web.filter.CorsFilter@5e53faa8, org.springframework.security.web.authentication.logout.LogoutFilter@2c6dab96, com.applegym.security.JwtAuthenticationFilter@492b12e5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ed5c877, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f24bda8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ddf7d19, org.springframework.security.web.session.SessionManagementFilter@6aef4277, org.springframework.security.web.access.ExceptionTranslationFilter@51e81952, org.springframework.security.web.access.intercept.AuthorizationFilter@68817cd7]
2025-10-21 19:13:00.580 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-10-21 19:13:00.948 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-10-21 19:13:00.968 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-10-21 19:13:00.973 [main] INFO  com.applegym.AppleGymApplication - Started AppleGymApplication in 5.989 seconds (process running for 6.397)
2025-10-21 19:13:03.901 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-21 19:13:03.901 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-21 19:13:03.906 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-10-21 19:13:03.914 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 19:13:03.920 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:13:03.920 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 19:13:03.952 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 19:13:03.953 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 19:13:04.006 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/styles.css
2025-10-21 19:13:04.007 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:13:04.008 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/styles.css
2025-10-21 19:13:04.012 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/cart.js
2025-10-21 19:13:04.012 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/config.js
2025-10-21 19:13:04.012 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/utils.js
2025-10-21 19:13:04.012 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/auth.js
2025-10-21 19:13:04.012 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:13:04.012 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:13:04.012 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/logo-gym.png
2025-10-21 19:13:04.013 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/config.js
2025-10-21 19:13:04.012 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:13:04.013 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:13:04.012 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:13:04.013 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/utils.js
2025-10-21 19:13:04.013 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/cart.js
2025-10-21 19:13:04.013 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/logo-gym.png
2025-10-21 19:13:04.013 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/auth.js
2025-10-21 19:13:04.023 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
2025-10-21 19:13:04.024 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:13:04.024 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
2025-10-21 19:13:05.638 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-10-21 19:13:05.639 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:13:05.640 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /favicon.ico
2025-10-21 19:13:05.648 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 19:13:05.648 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 19:13:05.695 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:13:07.652 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /catalogo.html
2025-10-21 19:13:07.653 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:13:07.653 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /catalogo.html
2025-10-21 19:13:07.686 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/catalog.js
2025-10-21 19:13:07.687 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:13:07.687 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/catalog.js
2025-10-21 19:13:07.698 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-full/catalogo
2025-10-21 19:13:07.700 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:13:07.700 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-full/catalogo
2025-10-21 19:13:07.700 [http-nio-8080-exec-2] INFO  c.a.controller.TestControllerFull - Obteniendo catálogo desde base de datos MySQL
2025-10-21 19:13:07.716 [http-nio-8080-exec-2] INFO  c.a.controller.TestControllerFull - ✅ Catálogo cargado exitosamente: 0 productos, 12 servicios
2025-10-21 19:16:30.149 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /catalogo.html
2025-10-21 19:16:30.150 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:16:30.151 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /catalogo.html
2025-10-21 19:16:30.181 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-full/catalogo
2025-10-21 19:16:30.181 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:16:30.181 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-full/catalogo
2025-10-21 19:16:30.182 [http-nio-8080-exec-10] INFO  c.a.controller.TestControllerFull - Obteniendo catálogo desde base de datos MySQL
2025-10-21 19:16:30.184 [http-nio-8080-exec-10] INFO  c.a.controller.TestControllerFull - ✅ Catálogo cargado exitosamente: 1 productos, 12 servicios
2025-10-21 19:16:55.133 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/carrito/agregar
2025-10-21 19:16:55.189 [http-nio-8080-exec-2] ERROR c.applegym.security.JwtTokenProvider - Token JWT expirado: JWT expired at 2025-10-21T18:53:21Z. Current time: 2025-10-22T00:16:55Z, a difference of 19414187 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-10-21 19:16:55.190 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:16:55.190 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/carrito/agregar
2025-10-21 19:16:55.261 [http-nio-8080-exec-2] ERROR c.a.controller.CarritoController - Error agregando al carrito: JWT expired at 2025-10-21T18:53:21Z. Current time: 2025-10-22T00:16:55Z, a difference of 19414261 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-10-21 19:16:55.269 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/ventas/procesar
2025-10-21 19:16:55.271 [http-nio-8080-exec-4] ERROR c.applegym.security.JwtTokenProvider - Token JWT expirado: JWT expired at 2025-10-21T18:53:21Z. Current time: 2025-10-22T00:16:55Z, a difference of 19414271 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-10-21 19:16:55.272 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:16:55.272 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/ventas/procesar
2025-10-21 19:16:55.276 [http-nio-8080-exec-4] ERROR c.a.controller.VentaController - Error procesando venta: JWT expired at 2025-10-21T18:53:21Z. Current time: 2025-10-22T00:16:55Z, a difference of 19414276 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-10-21 19:17:05.412 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 19:17:05.413 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:17:05.413 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 19:17:05.414 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 19:17:05.415 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 19:17:05.417 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:17:20.953 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/carrito/agregar
2025-10-21 19:17:20.957 [http-nio-8080-exec-5] ERROR c.applegym.security.JwtTokenProvider - Token JWT expirado: JWT expired at 2025-10-21T18:53:21Z. Current time: 2025-10-22T00:17:20Z, a difference of 19439957 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-10-21 19:17:20.957 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:17:20.957 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/carrito/agregar
2025-10-21 19:17:20.960 [http-nio-8080-exec-5] ERROR c.a.controller.CarritoController - Error agregando al carrito: JWT expired at 2025-10-21T18:53:21Z. Current time: 2025-10-22T00:17:20Z, a difference of 19439960 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-10-21 19:17:20.969 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/ventas/procesar
2025-10-21 19:17:20.971 [http-nio-8080-exec-9] ERROR c.applegym.security.JwtTokenProvider - Token JWT expirado: JWT expired at 2025-10-21T18:53:21Z. Current time: 2025-10-22T00:17:20Z, a difference of 19439971 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-10-21 19:17:20.971 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:17:20.972 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/ventas/procesar
2025-10-21 19:17:20.975 [http-nio-8080-exec-9] ERROR c.a.controller.VentaController - Error procesando venta: JWT expired at 2025-10-21T18:53:21Z. Current time: 2025-10-22T00:17:20Z, a difference of 19439974 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-10-21 19:17:48.224 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/carrito/agregar
2025-10-21 19:17:48.227 [http-nio-8080-exec-8] ERROR c.applegym.security.JwtTokenProvider - Token JWT expirado: JWT expired at 2025-10-21T18:53:21Z. Current time: 2025-10-22T00:17:48Z, a difference of 19467227 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-10-21 19:17:48.228 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:17:48.228 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/carrito/agregar
2025-10-21 19:17:48.231 [http-nio-8080-exec-8] ERROR c.a.controller.CarritoController - Error agregando al carrito: JWT expired at 2025-10-21T18:53:21Z. Current time: 2025-10-22T00:17:48Z, a difference of 19467231 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-10-21 19:17:48.239 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/ventas/procesar
2025-10-21 19:17:48.241 [http-nio-8080-exec-6] ERROR c.applegym.security.JwtTokenProvider - Token JWT expirado: JWT expired at 2025-10-21T18:53:21Z. Current time: 2025-10-22T00:17:48Z, a difference of 19467241 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-10-21 19:17:48.241 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:17:48.241 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/ventas/procesar
2025-10-21 19:17:48.245 [http-nio-8080-exec-6] ERROR c.a.controller.VentaController - Error procesando venta: JWT expired at 2025-10-21T18:53:21Z. Current time: 2025-10-22T00:17:48Z, a difference of 19467245 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-10-21 19:17:50.969 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /catalogo.html
2025-10-21 19:17:50.970 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:17:50.970 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /catalogo.html
2025-10-21 19:17:51.010 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 19:17:51.012 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:17:51.012 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 19:17:51.013 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 19:17:51.014 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 19:17:51.015 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:17:51.073 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-full/catalogo
2025-10-21 19:17:51.073 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:17:51.073 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-full/catalogo
2025-10-21 19:17:51.075 [http-nio-8080-exec-4] INFO  c.a.controller.TestControllerFull - Obteniendo catálogo desde base de datos MySQL
2025-10-21 19:17:51.077 [http-nio-8080-exec-4] INFO  c.a.controller.TestControllerFull - ✅ Catálogo cargado exitosamente: 1 productos, 12 servicios
2025-10-21 19:18:02.839 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/carrito/agregar
2025-10-21 19:18:02.842 [http-nio-8080-exec-3] ERROR c.applegym.security.JwtTokenProvider - Token JWT expirado: JWT expired at 2025-10-21T18:53:21Z. Current time: 2025-10-22T00:18:02Z, a difference of 19481842 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-10-21 19:18:02.842 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:18:02.842 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/carrito/agregar
2025-10-21 19:18:02.845 [http-nio-8080-exec-3] ERROR c.a.controller.CarritoController - Error agregando al carrito: JWT expired at 2025-10-21T18:53:21Z. Current time: 2025-10-22T00:18:02Z, a difference of 19481845 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-10-21 19:18:02.854 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/ventas/procesar
2025-10-21 19:18:02.856 [http-nio-8080-exec-5] ERROR c.applegym.security.JwtTokenProvider - Token JWT expirado: JWT expired at 2025-10-21T18:53:21Z. Current time: 2025-10-22T00:18:02Z, a difference of 19481856 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-10-21 19:18:02.856 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:18:02.856 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/ventas/procesar
2025-10-21 19:18:02.858 [http-nio-8080-exec-5] ERROR c.a.controller.VentaController - Error procesando venta: JWT expired at 2025-10-21T18:53:21Z. Current time: 2025-10-22T00:18:02Z, a difference of 19481858 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-10-21 19:18:24.225 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 19:18:24.233 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-21 19:18:24.242 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-21 19:18:56.517 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-10-21 19:18:56.604 [main] INFO  com.applegym.AppleGymApplication - Starting AppleGymApplication using Java 22.0.1 with PID 25152 (D:\ATAHUALPA\AppleGym\target\classes started by Usuario in D:\ATAHUALPA\AppleGym)
2025-10-21 19:18:56.605 [main] INFO  com.applegym.AppleGymApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-21 19:18:57.207 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-21 19:18:57.281 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 69 ms. Found 8 JPA repository interfaces.
2025-10-21 19:18:57.747 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-21 19:18:57.756 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-10-21 19:18:57.759 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-21 19:18:57.760 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-21 19:18:57.866 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-21 19:18:57.867 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1222 ms
2025-10-21 19:18:57.983 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-21 19:18:58.029 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-21 19:18:58.060 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-21 19:18:58.262 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-21 19:18:58.284 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 19:18:58.434 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@71e7830a
2025-10-21 19:18:58.435 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-21 19:18:59.491 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-21 19:18:59.604 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 19:18:59.878 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-21 19:19:00.985 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@309c821d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@381f7b8e, org.springframework.security.web.context.SecurityContextHolderFilter@397cb21e, org.springframework.security.web.header.HeaderWriterFilter@36b9f295, org.springframework.web.filter.CorsFilter@1f739627, org.springframework.security.web.authentication.logout.LogoutFilter@6e44f06c, com.applegym.security.JwtAuthenticationFilter@3d63becf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f25535d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@16c0ea9b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2a4d39fa, org.springframework.security.web.session.SessionManagementFilter@300eabce, org.springframework.security.web.access.ExceptionTranslationFilter@47232c32, org.springframework.security.web.access.intercept.AuthorizationFilter@6e2cd4f4]
2025-10-21 19:19:01.030 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-10-21 19:19:01.348 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-10-21 19:19:01.354 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-10-21 19:19:01.369 [main] INFO  com.applegym.AppleGymApplication - Started AppleGymApplication in 5.256 seconds (process running for 5.624)
2025-10-21 19:19:03.948 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-21 19:19:03.948 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-21 19:19:03.948 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-10-21 19:19:03.957 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 19:19:03.966 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:19:03.970 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 19:19:03.995 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 19:19:03.995 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 19:19:04.027 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/styles.css
2025-10-21 19:19:04.029 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:19:04.029 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/styles.css
2025-10-21 19:19:04.034 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/logo-gym.png
2025-10-21 19:19:04.034 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/config.js
2025-10-21 19:19:04.034 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:19:04.034 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:19:04.034 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/logo-gym.png
2025-10-21 19:19:04.034 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/config.js
2025-10-21 19:19:04.035 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/auth.js
2025-10-21 19:19:04.035 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/cart.js
2025-10-21 19:19:04.036 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:19:04.036 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:19:04.036 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/cart.js
2025-10-21 19:19:04.036 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/auth.js
2025-10-21 19:19:04.037 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/utils.js
2025-10-21 19:19:04.037 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:19:04.037 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/utils.js
2025-10-21 19:19:04.041 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
2025-10-21 19:19:04.041 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:19:04.042 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
2025-10-21 19:19:05.208 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-10-21 19:19:05.209 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:19:05.209 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /favicon.ico
2025-10-21 19:19:05.211 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 19:19:05.212 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 19:19:05.255 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:19:16.051 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 19:19:16.054 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:19:16.054 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 19:19:16.135 [http-nio-8080-exec-6] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: pepe@gmail.com
2025-10-21 19:19:16.465 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 19:19:16.755 [http-nio-8080-exec-6] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-10-21 19:19:16.775 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-10-21 19:19:16.775 [http-nio-8080-exec-6] INFO  c.applegym.controller.AuthController - Inicio de sesión exitoso para usuario: pepe@gmail.com - Token generado
2025-10-21 19:19:20.050 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /catalogo.html
2025-10-21 19:19:20.051 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:19:20.051 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /catalogo.html
2025-10-21 19:19:20.071 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/catalog.js
2025-10-21 19:19:20.072 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:19:20.072 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/catalog.js
2025-10-21 19:19:20.085 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-full/catalogo
2025-10-21 19:19:20.085 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:19:20.085 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-full/catalogo
2025-10-21 19:19:20.086 [http-nio-8080-exec-9] INFO  c.a.controller.TestControllerFull - Obteniendo catálogo desde base de datos MySQL
2025-10-21 19:19:20.092 [http-nio-8080-exec-9] INFO  c.a.controller.TestControllerFull - ✅ Catálogo cargado exitosamente: 1 productos, 12 servicios
2025-10-21 19:19:34.484 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/carrito/agregar
2025-10-21 19:19:34.512 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 19:19:34.514 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/carrito/agregar
2025-10-21 19:19:34.534 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 19:19:34.554 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_carrito,
        c1_0.id_cliente,
        c1_0.estado,
        c1_0.fecha,
        c1_0.fecha_actualizacion,
        c1_0.total 
    from
        carrito c1_0 
    where
        c1_0.id_cliente=? 
        and c1_0.estado=?
2025-10-21 19:19:34.580 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.Carrito */insert 
    into
        carrito (id_cliente, estado, fecha, fecha_actualizacion, total) 
    values
        (?, ?, ?, ?, ?)
2025-10-21 19:19:34.596 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        s1_0.id_servicio,
        s1_0.activo,
        s1_0.capacidad_maxima,
        s1_0.id_categoria,
        s1_0.descripcion,
        s1_0.duracion,
        s1_0.fecha_actualizacion,
        s1_0.fecha_creacion,
        s1_0.imagen_url,
        s1_0.nombre,
        s1_0.precio 
    from
        servicio s1_0 
    where
        s1_0.id_servicio=?
2025-10-21 19:19:34.604 [http-nio-8080-exec-3] ERROR c.a.controller.CarritoController - Error agregando al carrito: Servicio no encontrado: 34
2025-10-21 19:19:34.615 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/ventas/procesar
2025-10-21 19:19:34.619 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 19:19:34.619 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/ventas/procesar
2025-10-21 19:19:34.625 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 19:19:34.630 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_carrito,
        c1_0.id_cliente,
        c1_0.estado,
        c1_0.fecha,
        c1_0.fecha_actualizacion,
        c1_0.total 
    from
        carrito c1_0 
    where
        c1_0.id_cliente=? 
        and c1_0.estado=?
2025-10-21 19:19:34.630 [http-nio-8080-exec-10] ERROR c.a.controller.VentaController - Error procesando venta: No hay carrito activo para el cliente
2025-10-21 19:19:44.477 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 19:19:44.477 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:19:44.477 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 19:19:44.479 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 19:19:44.479 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 19:19:44.481 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:23:29.184 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 19:23:29.184 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-21 19:23:29.184 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-21 19:27:18.263 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-10-21 19:27:18.323 [main] INFO  com.applegym.AppleGymApplication - Starting AppleGymApplication using Java 22.0.1 with PID 22080 (D:\ATAHUALPA\AppleGym\target\classes started by Usuario in D:\ATAHUALPA\AppleGym)
2025-10-21 19:27:18.323 [main] INFO  com.applegym.AppleGymApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-21 19:27:18.873 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-21 19:27:18.956 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 78 ms. Found 8 JPA repository interfaces.
2025-10-21 19:27:19.432 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-21 19:27:19.447 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-10-21 19:27:19.449 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-21 19:27:19.449 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-21 19:27:19.525 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-21 19:27:19.526 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1173 ms
2025-10-21 19:27:19.633 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-21 19:27:19.694 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-21 19:27:19.734 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-21 19:27:19.962 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-21 19:27:19.983 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 19:27:20.118 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6ec3d8e4
2025-10-21 19:27:20.120 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-21 19:27:21.084 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-21 19:27:21.195 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 19:27:21.464 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-21 19:27:22.573 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2a4d39fa, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7e15cac4, org.springframework.security.web.context.SecurityContextHolderFilter@16c0ea9b, org.springframework.security.web.header.HeaderWriterFilter@133b27df, org.springframework.web.filter.CorsFilter@3d150d83, org.springframework.security.web.authentication.logout.LogoutFilter@5938041b, com.applegym.security.JwtAuthenticationFilter@22128b73, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7fdd597b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a175266, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3ed476a8, org.springframework.security.web.session.SessionManagementFilter@397cb21e, org.springframework.security.web.access.ExceptionTranslationFilter@7c1e325d, org.springframework.security.web.access.intercept.AuthorizationFilter@309c821d]
2025-10-21 19:27:22.615 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-10-21 19:27:22.964 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-10-21 19:27:22.981 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-10-21 19:27:22.987 [main] INFO  com.applegym.AppleGymApplication - Started AppleGymApplication in 5.112 seconds (process running for 5.469)
2025-10-21 19:27:30.517 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-21 19:27:30.517 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-21 19:27:30.518 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-10-21 19:27:30.524 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 19:27:30.530 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:27:30.531 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 19:27:30.556 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 19:27:30.556 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 19:27:30.586 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/styles.css
2025-10-21 19:27:30.587 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:27:30.587 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/styles.css
2025-10-21 19:27:30.595 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/logo-gym.png
2025-10-21 19:27:30.595 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/config.js
2025-10-21 19:27:30.595 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/auth.js
2025-10-21 19:27:30.596 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/cart.js
2025-10-21 19:27:30.596 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:27:30.596 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:27:30.596 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:27:30.596 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/logo-gym.png
2025-10-21 19:27:30.596 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/auth.js
2025-10-21 19:27:30.596 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:27:30.596 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/cart.js
2025-10-21 19:27:30.596 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/config.js
2025-10-21 19:27:30.599 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/utils.js
2025-10-21 19:27:30.599 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
2025-10-21 19:27:30.599 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:27:30.599 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:27:30.600 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/utils.js
2025-10-21 19:27:30.600 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
2025-10-21 19:27:38.324 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 19:27:38.328 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:27:38.328 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 19:27:38.423 [http-nio-8080-exec-9] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: pepe@gmail.com
2025-10-21 19:27:38.758 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 19:27:39.033 [http-nio-8080-exec-9] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-10-21 19:27:39.065 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-10-21 19:27:39.073 [http-nio-8080-exec-9] INFO  c.applegym.controller.AuthController - Inicio de sesión exitoso para usuario: pepe@gmail.com - Token generado
2025-10-21 19:27:42.718 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /catalogo.html
2025-10-21 19:27:42.719 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:27:42.719 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /catalogo.html
2025-10-21 19:27:42.739 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/catalog.js
2025-10-21 19:27:42.740 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:27:42.740 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/catalog.js
2025-10-21 19:27:42.751 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-full/catalogo
2025-10-21 19:27:42.751 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:27:42.753 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-full/catalogo
2025-10-21 19:27:42.753 [http-nio-8080-exec-2] INFO  c.a.controller.TestControllerFull - Obteniendo catálogo desde base de datos MySQL
2025-10-21 19:27:42.760 [http-nio-8080-exec-2] INFO  c.a.controller.TestControllerFull - ✅ Catálogo cargado exitosamente: 1 productos, 12 servicios
2025-10-21 19:27:57.314 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/carrito/agregar
2025-10-21 19:27:57.343 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 19:27:57.347 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/carrito/agregar
2025-10-21 19:27:57.373 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 19:27:57.382 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_carrito,
        c1_0.id_cliente,
        c1_0.estado,
        c1_0.fecha,
        c1_0.fecha_actualizacion,
        c1_0.total 
    from
        carrito c1_0 
    where
        c1_0.id_cliente=? 
        and c1_0.estado=?
2025-10-21 19:27:57.402 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.Carrito */insert 
    into
        carrito (id_cliente, estado, fecha, fecha_actualizacion, total) 
    values
        (?, ?, ?, ?, ?)
2025-10-21 19:27:57.423 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        s1_0.id_servicio,
        s1_0.activo,
        s1_0.capacidad_maxima,
        s1_0.id_categoria,
        s1_0.descripcion,
        s1_0.duracion,
        s1_0.fecha_actualizacion,
        s1_0.fecha_creacion,
        s1_0.imagen_url,
        s1_0.nombre,
        s1_0.precio 
    from
        servicio s1_0 
    where
        s1_0.id_servicio=?
2025-10-21 19:27:57.433 [http-nio-8080-exec-9] ERROR c.a.controller.CarritoController - Error agregando al carrito: Servicio no encontrado: 34
2025-10-21 19:27:57.433 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/ventas/procesar
2025-10-21 19:27:57.446 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 19:27:57.447 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/ventas/procesar
2025-10-21 19:27:57.453 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 19:27:57.453 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_carrito,
        c1_0.id_cliente,
        c1_0.estado,
        c1_0.fecha,
        c1_0.fecha_actualizacion,
        c1_0.total 
    from
        carrito c1_0 
    where
        c1_0.id_cliente=? 
        and c1_0.estado=?
2025-10-21 19:27:57.453 [http-nio-8080-exec-8] ERROR c.a.controller.VentaController - Error procesando venta: No hay carrito activo para el cliente
2025-10-21 19:28:01.059 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 19:28:01.059 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:28:01.059 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 19:28:01.062 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 19:28:01.063 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 19:28:01.071 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:39:14.570 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 19:39:14.573 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-21 19:39:14.580 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-21 19:46:39.843 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-10-21 19:46:39.906 [main] INFO  com.applegym.AppleGymApplication - Starting AppleGymApplication using Java 22.0.1 with PID 18500 (D:\ATAHUALPA\AppleGym\target\classes started by Usuario in D:\ATAHUALPA\AppleGym)
2025-10-21 19:46:39.908 [main] INFO  com.applegym.AppleGymApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-21 19:46:40.428 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-21 19:46:40.499 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 67 ms. Found 8 JPA repository interfaces.
2025-10-21 19:46:40.923 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-21 19:46:40.928 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-10-21 19:46:40.928 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-21 19:46:40.928 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-21 19:46:41.003 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-21 19:46:41.009 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1064 ms
2025-10-21 19:46:41.109 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-21 19:46:41.144 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-21 19:46:41.169 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-21 19:46:41.343 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-21 19:46:41.359 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 19:46:41.479 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@621dc63d
2025-10-21 19:46:41.479 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-21 19:46:42.347 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-21 19:46:42.469 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 19:46:42.732 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-21 19:46:43.788 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7e15cac4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d150d83, org.springframework.security.web.context.SecurityContextHolderFilter@4a70561f, org.springframework.security.web.header.HeaderWriterFilter@6aef4277, org.springframework.web.filter.CorsFilter@3ed476a8, org.springframework.security.web.authentication.logout.LogoutFilter@10b648c0, com.applegym.security.JwtAuthenticationFilter@23551fa1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@a175266, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1b12f58d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d950a61, org.springframework.security.web.session.SessionManagementFilter@7c692e24, org.springframework.security.web.access.ExceptionTranslationFilter@2202c350, org.springframework.security.web.access.intercept.AuthorizationFilter@381f7b8e]
2025-10-21 19:46:43.832 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-10-21 19:46:44.158 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-10-21 19:46:44.168 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-10-21 19:46:44.181 [main] INFO  com.applegym.AppleGymApplication - Started AppleGymApplication in 4.71 seconds (process running for 5.031)
2025-10-21 19:46:50.179 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-21 19:46:50.179 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-21 19:46:50.179 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-10-21 19:46:50.188 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 19:46:50.198 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:46:50.198 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 19:46:50.238 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 19:46:50.238 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 19:46:50.275 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/styles.css
2025-10-21 19:46:50.276 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:46:50.276 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/styles.css
2025-10-21 19:46:50.286 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/config.js
2025-10-21 19:46:50.286 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/auth.js
2025-10-21 19:46:50.286 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/logo-gym.png
2025-10-21 19:46:50.286 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:46:50.286 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:46:50.286 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/auth.js
2025-10-21 19:46:50.286 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:46:50.286 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/config.js
2025-10-21 19:46:50.286 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/logo-gym.png
2025-10-21 19:46:50.288 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/cart.js
2025-10-21 19:46:50.288 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/utils.js
2025-10-21 19:46:50.288 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:46:50.288 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:46:50.288 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/cart.js
2025-10-21 19:46:50.288 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/utils.js
2025-10-21 19:46:50.290 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
2025-10-21 19:46:50.291 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:46:50.291 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
2025-10-21 19:47:08.277 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 19:47:08.278 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:47:08.278 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 19:47:08.389 [http-nio-8080-exec-4] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: applegym@admin.com
2025-10-21 19:47:08.799 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 19:47:08.899 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to authenticate since password does not match stored value
2025-10-21 19:47:08.899 [http-nio-8080-exec-4] WARN  c.applegym.controller.AuthController - Fallo en autenticación para usuario: applegym@admin.com
2025-10-21 19:47:18.499 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 19:47:18.499 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:47:18.499 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 19:47:18.499 [http-nio-8080-exec-7] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: applegym@admin.com
2025-10-21 19:47:18.499 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 19:47:18.578 [http-nio-8080-exec-7] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to authenticate since password does not match stored value
2025-10-21 19:47:18.578 [http-nio-8080-exec-7] WARN  c.applegym.controller.AuthController - Fallo en autenticación para usuario: applegym@admin.com
2025-10-21 19:47:50.380 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 19:47:50.380 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:47:50.380 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 19:47:50.380 [http-nio-8080-exec-3] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: applegym@admin.com
2025-10-21 19:47:50.380 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 19:47:50.448 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to authenticate since password does not match stored value
2025-10-21 19:47:50.448 [http-nio-8080-exec-3] WARN  c.applegym.controller.AuthController - Fallo en autenticación para usuario: applegym@admin.com
2025-10-21 19:48:09.802 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 19:48:09.802 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:48:09.802 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 19:48:09.802 [http-nio-8080-exec-10] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: applegym@admin.com
2025-10-21 19:48:09.809 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 19:48:09.876 [http-nio-8080-exec-10] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to authenticate since password does not match stored value
2025-10-21 19:48:09.876 [http-nio-8080-exec-10] WARN  c.applegym.controller.AuthController - Fallo en autenticación para usuario: applegym@admin.com
2025-10-21 19:48:15.622 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 19:48:15.628 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:48:15.628 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 19:48:15.628 [http-nio-8080-exec-2] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: applegym@admin.com
2025-10-21 19:48:15.628 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 19:48:15.698 [http-nio-8080-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to authenticate since password does not match stored value
2025-10-21 19:48:15.698 [http-nio-8080-exec-2] WARN  c.applegym.controller.AuthController - Fallo en autenticación para usuario: applegym@admin.com
2025-10-21 19:48:23.850 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 19:48:23.850 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:48:23.850 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 19:48:23.850 [http-nio-8080-exec-1] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: applegym@admin.com
2025-10-21 19:48:23.850 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 19:48:23.924 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to authenticate since password does not match stored value
2025-10-21 19:48:23.925 [http-nio-8080-exec-1] WARN  c.applegym.controller.AuthController - Fallo en autenticación para usuario: applegym@admin.com
2025-10-21 19:48:48.435 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 19:48:48.438 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:48:48.438 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 19:48:48.438 [http-nio-8080-exec-4] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: applegym@admin.com
2025-10-21 19:48:48.443 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 19:48:48.518 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to authenticate since password does not match stored value
2025-10-21 19:48:48.518 [http-nio-8080-exec-4] WARN  c.applegym.controller.AuthController - Fallo en autenticación para usuario: applegym@admin.com
2025-10-21 19:49:06.582 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 19:49:06.583 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:49:06.583 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 19:49:06.586 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 19:49:06.586 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 19:49:06.595 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:49:18.245 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 19:49:18.246 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:49:18.246 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 19:49:18.248 [http-nio-8080-exec-3] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: applegym@admin.com
2025-10-21 19:49:18.248 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 19:49:18.323 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to authenticate since password does not match stored value
2025-10-21 19:49:18.323 [http-nio-8080-exec-3] WARN  c.applegym.controller.AuthController - Fallo en autenticación para usuario: applegym@admin.com
2025-10-21 19:50:17.978 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2025-10-21 19:50:17.978 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:50:17.978 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2025-10-21 19:50:17.996 [http-nio-8080-exec-10] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> com.applegym.controller.AuthController.registerUser(com.applegym.dto.ClienteRegistroDTO): [Field error in object 'clienteRegistroDTO' on field 'confirmPassword': rejected value [null]; codes [NotBlank.clienteRegistroDTO.confirmPassword,NotBlank.confirmPassword,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [clienteRegistroDTO.confirmPassword,confirmPassword]; arguments []; default message [confirmPassword]]; default message [La confirmación de contraseña es obligatoria]] ]
2025-10-21 19:50:17.998 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-10-21 19:50:17.998 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2025-10-21 19:50:17.998 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:50:26.855 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2025-10-21 19:50:26.855 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:50:26.855 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2025-10-21 19:50:26.858 [http-nio-8080-exec-2] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> com.applegym.controller.AuthController.registerUser(com.applegym.dto.ClienteRegistroDTO): [Field error in object 'clienteRegistroDTO' on field 'confirmPassword': rejected value [null]; codes [NotBlank.clienteRegistroDTO.confirmPassword,NotBlank.confirmPassword,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [clienteRegistroDTO.confirmPassword,confirmPassword]; arguments []; default message [confirmPassword]]; default message [La confirmación de contraseña es obligatoria]] ]
2025-10-21 19:50:26.858 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-10-21 19:50:26.858 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2025-10-21 19:50:26.860 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:50:40.697 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2025-10-21 19:50:40.697 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:50:40.697 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2025-10-21 19:50:40.697 [http-nio-8080-exec-1] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> com.applegym.controller.AuthController.registerUser(com.applegym.dto.ClienteRegistroDTO): [Field error in object 'clienteRegistroDTO' on field 'confirmPassword': rejected value [null]; codes [NotBlank.clienteRegistroDTO.confirmPassword,NotBlank.confirmPassword,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [clienteRegistroDTO.confirmPassword,confirmPassword]; arguments []; default message [confirmPassword]]; default message [La confirmación de contraseña es obligatoria]] ]
2025-10-21 19:50:40.697 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-10-21 19:50:40.697 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2025-10-21 19:50:40.697 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:50:55.237 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2025-10-21 19:50:55.238 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:50:55.239 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2025-10-21 19:50:55.239 [http-nio-8080-exec-5] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> com.applegym.controller.AuthController.registerUser(com.applegym.dto.ClienteRegistroDTO): [Field error in object 'clienteRegistroDTO' on field 'confirmPassword': rejected value [null]; codes [NotBlank.clienteRegistroDTO.confirmPassword,NotBlank.confirmPassword,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [clienteRegistroDTO.confirmPassword,confirmPassword]; arguments []; default message [confirmPassword]]; default message [La confirmación de contraseña es obligatoria]] ]
2025-10-21 19:50:55.239 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-10-21 19:50:55.239 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2025-10-21 19:50:55.239 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:51:00.704 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2025-10-21 19:51:00.705 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:51:00.706 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2025-10-21 19:51:00.707 [http-nio-8080-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> com.applegym.controller.AuthController.registerUser(com.applegym.dto.ClienteRegistroDTO): [Field error in object 'clienteRegistroDTO' on field 'confirmPassword': rejected value [null]; codes [NotBlank.clienteRegistroDTO.confirmPassword,NotBlank.confirmPassword,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [clienteRegistroDTO.confirmPassword,confirmPassword]; arguments []; default message [confirmPassword]]; default message [La confirmación de contraseña es obligatoria]] ]
2025-10-21 19:51:00.707 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-10-21 19:51:00.707 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2025-10-21 19:51:00.709 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:51:06.007 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 19:51:06.007 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:51:06.007 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 19:51:06.007 [http-nio-8080-exec-6] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: applegym@admin.com
2025-10-21 19:51:06.007 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 19:51:06.287 [http-nio-8080-exec-6] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to find user 'applegym@admin.com'
2025-10-21 19:51:06.287 [http-nio-8080-exec-6] WARN  c.applegym.controller.AuthController - Fallo en autenticación para usuario: applegym@admin.com
2025-10-21 19:51:07.767 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 19:51:07.767 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:51:07.767 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 19:51:07.769 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 19:51:07.769 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 19:51:29.290 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 19:51:29.291 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:51:29.291 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 19:51:29.292 [http-nio-8080-exec-9] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: pepe@gmail.com
2025-10-21 19:51:29.294 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 19:51:29.553 [http-nio-8080-exec-9] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-10-21 19:51:29.577 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-10-21 19:51:29.577 [http-nio-8080-exec-9] INFO  c.applegym.controller.AuthController - Inicio de sesión exitoso para usuario: pepe@gmail.com - Token generado
2025-10-21 19:51:33.423 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /catalogo.html
2025-10-21 19:51:33.425 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:51:33.425 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /catalogo.html
2025-10-21 19:51:33.447 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/catalog.js
2025-10-21 19:51:33.448 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:51:33.448 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/catalog.js
2025-10-21 19:51:33.459 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-full/catalogo
2025-10-21 19:51:33.460 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:51:33.460 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-full/catalogo
2025-10-21 19:51:33.461 [http-nio-8080-exec-1] INFO  c.a.controller.TestControllerFull - Obteniendo catálogo desde base de datos MySQL
2025-10-21 19:51:33.467 [http-nio-8080-exec-1] INFO  c.a.controller.TestControllerFull - ✅ Catálogo cargado exitosamente: 1 productos, 12 servicios
2025-10-21 19:51:49.985 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/carrito/agregar
2025-10-21 19:51:50.007 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 19:51:50.007 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/carrito/agregar
2025-10-21 19:51:50.035 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 19:51:50.047 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_carrito,
        c1_0.id_cliente,
        c1_0.estado,
        c1_0.fecha,
        c1_0.fecha_actualizacion,
        c1_0.total 
    from
        carrito c1_0 
    where
        c1_0.id_cliente=? 
        and c1_0.estado=?
2025-10-21 19:51:50.057 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.Carrito */insert 
    into
        carrito (id_cliente, estado, fecha, fecha_actualizacion, total) 
    values
        (?, ?, ?, ?, ?)
2025-10-21 19:51:50.077 [http-nio-8080-exec-6] ERROR c.a.controller.CarritoController - Error agregando al carrito: Tipo de item inválido: productos
2025-10-21 19:51:50.087 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/ventas/procesar
2025-10-21 19:51:50.087 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 19:51:50.087 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/ventas/procesar
2025-10-21 19:51:50.097 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 19:51:50.102 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_carrito,
        c1_0.id_cliente,
        c1_0.estado,
        c1_0.fecha,
        c1_0.fecha_actualizacion,
        c1_0.total 
    from
        carrito c1_0 
    where
        c1_0.id_cliente=? 
        and c1_0.estado=?
2025-10-21 19:51:50.102 [http-nio-8080-exec-7] ERROR c.a.controller.VentaController - Error procesando venta: No hay carrito activo para el cliente
2025-10-21 19:51:52.727 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 19:51:52.727 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:51:52.727 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 19:51:52.735 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 19:51:52.735 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 19:51:52.737 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:53:13.037 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 19:53:13.037 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-21 19:53:13.047 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-21 19:57:52.646 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-10-21 19:57:52.726 [main] INFO  com.applegym.AppleGymApplication - Starting AppleGymApplication using Java 22.0.1 with PID 16980 (D:\ATAHUALPA\AppleGym\target\classes started by Usuario in D:\ATAHUALPA\AppleGym)
2025-10-21 19:57:52.727 [main] INFO  com.applegym.AppleGymApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-21 19:57:53.283 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-21 19:57:53.364 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 75 ms. Found 8 JPA repository interfaces.
2025-10-21 19:57:53.847 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-21 19:57:53.854 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-10-21 19:57:53.857 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-21 19:57:53.858 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-21 19:57:53.934 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-21 19:57:53.936 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1176 ms
2025-10-21 19:57:54.047 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-21 19:57:54.097 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-21 19:57:54.126 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-21 19:57:54.331 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-21 19:57:54.357 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 19:57:54.496 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@56f9de3b
2025-10-21 19:57:54.499 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-21 19:57:55.471 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-21 19:57:55.591 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 19:57:55.861 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-21 19:57:56.984 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@70054599, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@68fc6e20, org.springframework.security.web.context.SecurityContextHolderFilter@7a9fd6c5, org.springframework.security.web.header.HeaderWriterFilter@2aad9c31, org.springframework.web.filter.CorsFilter@6d63a79, org.springframework.security.web.authentication.logout.LogoutFilter@5e53faa8, com.applegym.security.JwtAuthenticationFilter@75f1c170, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@73f9fc72, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a15ec76, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@177bd3ae, org.springframework.security.web.session.SessionManagementFilter@539a885e, org.springframework.security.web.access.ExceptionTranslationFilter@1ed5c877, org.springframework.security.web.access.intercept.AuthorizationFilter@2d06acfd]
2025-10-21 19:57:57.034 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-10-21 19:57:57.406 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-10-21 19:57:57.424 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-10-21 19:57:57.430 [main] INFO  com.applegym.AppleGymApplication - Started AppleGymApplication in 5.186 seconds (process running for 5.54)
2025-10-21 19:58:08.251 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-21 19:58:08.251 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-21 19:58:08.252 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-10-21 19:58:08.259 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 19:58:08.265 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:58:08.266 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 19:58:08.295 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 19:58:08.296 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 19:58:08.327 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/styles.css
2025-10-21 19:58:08.328 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:58:08.328 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/styles.css
2025-10-21 19:58:08.332 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/logo-gym.png
2025-10-21 19:58:08.332 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/config.js
2025-10-21 19:58:08.332 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/auth.js
2025-10-21 19:58:08.333 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:58:08.333 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/logo-gym.png
2025-10-21 19:58:08.333 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:58:08.333 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:58:08.334 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/config.js
2025-10-21 19:58:08.334 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/auth.js
2025-10-21 19:58:08.336 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/cart.js
2025-10-21 19:58:08.336 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/utils.js
2025-10-21 19:58:08.336 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:58:08.336 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:58:08.336 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/utils.js
2025-10-21 19:58:08.336 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/cart.js
2025-10-21 19:58:08.344 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
2025-10-21 19:58:08.345 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:58:08.345 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
2025-10-21 19:58:10.230 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-10-21 19:58:10.230 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:58:10.230 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /favicon.ico
2025-10-21 19:58:10.236 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 19:58:10.236 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 19:58:10.281 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:58:17.968 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 19:58:17.974 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:58:17.974 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 19:58:18.058 [http-nio-8080-exec-7] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: pepe@gmail.com
2025-10-21 19:58:18.446 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 19:58:18.757 [http-nio-8080-exec-7] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-10-21 19:58:18.776 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-10-21 19:58:18.776 [http-nio-8080-exec-7] INFO  c.applegym.controller.AuthController - Inicio de sesión exitoso para usuario: pepe@gmail.com - Token generado
2025-10-21 19:58:22.023 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /catalogo.html
2025-10-21 19:58:22.024 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:58:22.024 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /catalogo.html
2025-10-21 19:58:22.044 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/catalog.js
2025-10-21 19:58:22.046 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:58:22.046 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/catalog.js
2025-10-21 19:58:22.060 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-full/catalogo
2025-10-21 19:58:22.060 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:58:22.061 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-full/catalogo
2025-10-21 19:58:22.062 [http-nio-8080-exec-9] INFO  c.a.controller.TestControllerFull - Obteniendo catálogo desde base de datos MySQL
2025-10-21 19:58:22.069 [http-nio-8080-exec-9] INFO  c.a.controller.TestControllerFull - ✅ Catálogo cargado exitosamente: 1 productos, 12 servicios
2025-10-21 19:59:13.792 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/carrito/agregar
2025-10-21 19:59:13.820 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 19:59:13.823 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/carrito/agregar
2025-10-21 19:59:13.850 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 19:59:13.863 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_carrito,
        c1_0.id_cliente,
        c1_0.estado,
        c1_0.fecha,
        c1_0.fecha_actualizacion,
        c1_0.total 
    from
        carrito c1_0 
    where
        c1_0.id_cliente=? 
        and c1_0.estado=?
2025-10-21 19:59:13.882 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.Carrito */insert 
    into
        carrito (id_cliente, estado, fecha, fecha_actualizacion, total) 
    values
        (?, ?, ?, ?, ?)
2025-10-21 19:59:13.901 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id_producto,
        p1_0.activo,
        p1_0.id_categoria,
        p1_0.descripcion,
        p1_0.fecha_actualizacion,
        p1_0.fecha_creacion,
        p1_0.imagen_url,
        p1_0.nombre,
        p1_0.precio,
        p1_0.stock 
    from
        producto p1_0 
    where
        p1_0.id_producto=?
2025-10-21 19:59:13.914 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.DetalleCarrito */insert 
    into
        detalle_carrito (cantidad, id_carrito, descripcion_item, descuento_aplicado, fecha_agregado, id_item, nombre_item, precio_unitario, id_producto, id_promocion, id_servicio, subtotal, tipo) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-21 19:59:13.923 [http-nio-8080-exec-1] INFO  c.a.service.impl.CarritoServiceImpl - Item agregado al carrito exitosamente - Carrito ID: 45
2025-10-21 19:59:13.953 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* update
        for com.applegym.entity.Carrito */update carrito 
    set
        id_cliente=?,
        estado=?,
        fecha=?,
        fecha_actualizacion=?,
        total=? 
    where
        id_carrito=?
2025-10-21 19:59:13.978 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/ventas/procesar
2025-10-21 19:59:13.984 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 19:59:13.986 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/ventas/procesar
2025-10-21 19:59:13.993 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 19:59:13.995 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_carrito,
        c1_0.id_cliente,
        c1_0.estado,
        c1_0.fecha,
        c1_0.fecha_actualizacion,
        c1_0.total 
    from
        carrito c1_0 
    where
        c1_0.id_cliente=? 
        and c1_0.estado=?
2025-10-21 19:59:14.000 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        d1_0.id_carrito,
        d1_0.id_detalle_carrito,
        d1_0.cantidad,
        d1_0.descripcion_item,
        d1_0.descuento_aplicado,
        d1_0.fecha_agregado,
        d1_0.id_item,
        d1_0.nombre_item,
        d1_0.precio_unitario,
        d1_0.id_producto,
        d1_0.id_promocion,
        d1_0.id_servicio,
        d1_0.subtotal,
        d1_0.tipo 
    from
        detalle_carrito d1_0 
    where
        d1_0.id_carrito=?
2025-10-21 19:59:14.003 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id_producto,
        p1_0.activo,
        p1_0.id_categoria,
        p1_0.descripcion,
        p1_0.fecha_actualizacion,
        p1_0.fecha_creacion,
        p1_0.imagen_url,
        p1_0.nombre,
        p1_0.precio,
        p1_0.stock 
    from
        producto p1_0 
    where
        p1_0.id_producto=?
2025-10-21 19:59:14.005 [http-nio-8080-exec-3] INFO  c.a.service.impl.VentaServiceImpl - Actualizando stock del producto ID: 34, Cantidad vendida: 1
2025-10-21 19:59:14.011 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.Venta */insert 
    into
        venta (id_cliente, estado, fecha_actualizacion, fecha_venta, numero_venta, observaciones, total) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-10-21 19:59:14.017 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.Comprobante */insert 
    into
        comprobante (archivo_comprobante, estado_comprobante, fecha_actualizacion, fecha_emision, fecha_envio, hash_documento, numero_comprobante, observaciones, serie_comprobante, tipo_comprobante, url_descarga, id_venta) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-21 19:59:14.028 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.DetalleVenta */insert 
    into
        detalle_venta (cantidad, descuento_aplicado, fecha_creacion, id_producto_servicio, nombre, precio_unitario, id_producto, id_servicio, subtotal, tipo, id_venta) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-21 19:59:14.036 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.Pago */insert 
    into
        pago (codigo_autorizacion, detalles_pago, estado_pago, fecha_actualizacion, fecha_pago, fecha_procesamiento, monto, numero_transaccion, referencia_externa, tipo_pago, id_venta) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-21 19:59:14.043 [http-nio-8080-exec-3] INFO  c.a.service.impl.VentaServiceImpl - Venta procesada exitosamente - ID: 16, Total: 100.00
2025-10-21 19:59:14.051 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* update
        for com.applegym.entity.Carrito */update carrito 
    set
        id_cliente=?,
        estado=?,
        fecha=?,
        fecha_actualizacion=?,
        total=? 
    where
        id_carrito=?
2025-10-21 19:59:14.060 [http-nio-8080-exec-3] INFO  c.a.controller.VentaController - Venta procesada exitosamente - ID: 16, Cliente: pepe@gmail.com
2025-10-21 19:59:14.071 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/ventas/comprobante/16/pdf
2025-10-21 19:59:14.079 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 19:59:14.082 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/ventas/comprobante/16/pdf
2025-10-21 19:59:14.091 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        v1_0.id_venta,
        v1_0.id_cliente,
        v1_0.estado,
        v1_0.fecha_actualizacion,
        v1_0.fecha_venta,
        v1_0.numero_venta,
        v1_0.observaciones,
        v1_0.total 
    from
        venta v1_0 
    where
        v1_0.id_venta=?
2025-10-21 19:59:14.094 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id_comprobante,
        c1_0.archivo_comprobante,
        c1_0.estado_comprobante,
        c1_0.fecha_actualizacion,
        c1_0.fecha_emision,
        c1_0.fecha_envio,
        c1_0.hash_documento,
        c1_0.numero_comprobante,
        c1_0.observaciones,
        c1_0.serie_comprobante,
        c1_0.tipo_comprobante,
        c1_0.url_descarga,
        c1_0.id_venta 
    from
        comprobante c1_0 
    where
        c1_0.id_venta=?
2025-10-21 19:59:14.096 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id_pago,
        p1_0.codigo_autorizacion,
        p1_0.detalles_pago,
        p1_0.estado_pago,
        p1_0.fecha_actualizacion,
        p1_0.fecha_pago,
        p1_0.fecha_procesamiento,
        p1_0.monto,
        p1_0.numero_transaccion,
        p1_0.referencia_externa,
        p1_0.tipo_pago,
        p1_0.id_venta 
    from
        pago p1_0 
    where
        p1_0.id_venta=?
2025-10-21 19:59:14.098 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.id_cliente=?
2025-10-21 19:59:14.100 [http-nio-8080-exec-6] INFO  c.a.service.impl.PdfServiceImpl - Generando PDF para venta ID: 16
2025-10-21 19:59:14.262 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        d1_0.id_venta,
        d1_0.id_detalle,
        d1_0.cantidad,
        d1_0.descuento_aplicado,
        d1_0.fecha_creacion,
        d1_0.id_producto_servicio,
        d1_0.nombre,
        d1_0.precio_unitario,
        d1_0.id_producto,
        d1_0.id_servicio,
        d1_0.subtotal,
        d1_0.tipo 
    from
        detalle_venta d1_0 
    where
        d1_0.id_venta=?
2025-10-21 19:59:14.282 [http-nio-8080-exec-6] INFO  c.a.service.impl.PdfServiceImpl - PDF generado exitosamente para venta ID: 16
2025-10-21 19:59:14.283 [http-nio-8080-exec-6] INFO  c.a.controller.VentaController - PDF generado para venta ID: 16, Cliente: pepe@gmail.com
2025-10-21 19:59:24.780 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-full/catalogo
2025-10-21 19:59:24.781 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:59:24.781 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-full/catalogo
2025-10-21 19:59:24.781 [http-nio-8080-exec-7] INFO  c.a.controller.TestControllerFull - Obteniendo catálogo desde base de datos MySQL
2025-10-21 19:59:24.784 [http-nio-8080-exec-7] INFO  c.a.controller.TestControllerFull - ✅ Catálogo cargado exitosamente: 1 productos, 12 servicios
2025-10-21 19:59:33.804 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /catalogo.html
2025-10-21 19:59:33.805 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:59:33.805 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /catalogo.html
2025-10-21 19:59:33.818 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-full/catalogo
2025-10-21 19:59:33.819 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 19:59:33.819 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-full/catalogo
2025-10-21 19:59:33.819 [http-nio-8080-exec-8] INFO  c.a.controller.TestControllerFull - Obteniendo catálogo desde base de datos MySQL
2025-10-21 19:59:33.821 [http-nio-8080-exec-8] INFO  c.a.controller.TestControllerFull - ✅ Catálogo cargado exitosamente: 1 productos, 12 servicios
2025-10-21 20:00:02.307 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/carrito/agregar
2025-10-21 20:00:02.307 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 20:00:02.307 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/carrito/agregar
2025-10-21 20:00:02.315 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 20:00:02.321 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_carrito,
        c1_0.id_cliente,
        c1_0.estado,
        c1_0.fecha,
        c1_0.fecha_actualizacion,
        c1_0.total 
    from
        carrito c1_0 
    where
        c1_0.id_cliente=? 
        and c1_0.estado=?
2025-10-21 20:00:02.322 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.Carrito */insert 
    into
        carrito (id_cliente, estado, fecha, fecha_actualizacion, total) 
    values
        (?, ?, ?, ?, ?)
2025-10-21 20:00:02.325 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id_producto,
        p1_0.activo,
        p1_0.id_categoria,
        p1_0.descripcion,
        p1_0.fecha_actualizacion,
        p1_0.fecha_creacion,
        p1_0.imagen_url,
        p1_0.nombre,
        p1_0.precio,
        p1_0.stock 
    from
        producto p1_0 
    where
        p1_0.id_producto=?
2025-10-21 20:00:02.325 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.DetalleCarrito */insert 
    into
        detalle_carrito (cantidad, id_carrito, descripcion_item, descuento_aplicado, fecha_agregado, id_item, nombre_item, precio_unitario, id_producto, id_promocion, id_servicio, subtotal, tipo) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-21 20:00:02.335 [http-nio-8080-exec-2] INFO  c.a.service.impl.CarritoServiceImpl - Item agregado al carrito exitosamente - Carrito ID: 46
2025-10-21 20:00:02.337 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* update
        for com.applegym.entity.Carrito */update carrito 
    set
        id_cliente=?,
        estado=?,
        fecha=?,
        fecha_actualizacion=?,
        total=? 
    where
        id_carrito=?
2025-10-21 20:00:02.354 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/ventas/procesar
2025-10-21 20:00:02.355 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 20:00:02.360 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/ventas/procesar
2025-10-21 20:00:02.366 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 20:00:02.366 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_carrito,
        c1_0.id_cliente,
        c1_0.estado,
        c1_0.fecha,
        c1_0.fecha_actualizacion,
        c1_0.total 
    from
        carrito c1_0 
    where
        c1_0.id_cliente=? 
        and c1_0.estado=?
2025-10-21 20:00:02.366 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        d1_0.id_carrito,
        d1_0.id_detalle_carrito,
        d1_0.cantidad,
        d1_0.descripcion_item,
        d1_0.descuento_aplicado,
        d1_0.fecha_agregado,
        d1_0.id_item,
        d1_0.nombre_item,
        d1_0.precio_unitario,
        d1_0.id_producto,
        d1_0.id_promocion,
        d1_0.id_servicio,
        d1_0.subtotal,
        d1_0.tipo 
    from
        detalle_carrito d1_0 
    where
        d1_0.id_carrito=?
2025-10-21 20:00:02.371 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id_producto,
        p1_0.activo,
        p1_0.id_categoria,
        p1_0.descripcion,
        p1_0.fecha_actualizacion,
        p1_0.fecha_creacion,
        p1_0.imagen_url,
        p1_0.nombre,
        p1_0.precio,
        p1_0.stock 
    from
        producto p1_0 
    where
        p1_0.id_producto=?
2025-10-21 20:00:02.372 [http-nio-8080-exec-1] INFO  c.a.service.impl.VentaServiceImpl - Actualizando stock del producto ID: 34, Cantidad vendida: 2
2025-10-21 20:00:02.372 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.Venta */insert 
    into
        venta (id_cliente, estado, fecha_actualizacion, fecha_venta, numero_venta, observaciones, total) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-10-21 20:00:02.375 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.Comprobante */insert 
    into
        comprobante (archivo_comprobante, estado_comprobante, fecha_actualizacion, fecha_emision, fecha_envio, hash_documento, numero_comprobante, observaciones, serie_comprobante, tipo_comprobante, url_descarga, id_venta) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-21 20:00:02.375 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.DetalleVenta */insert 
    into
        detalle_venta (cantidad, descuento_aplicado, fecha_creacion, id_producto_servicio, nombre, precio_unitario, id_producto, id_servicio, subtotal, tipo, id_venta) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-21 20:00:02.375 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.Pago */insert 
    into
        pago (codigo_autorizacion, detalles_pago, estado_pago, fecha_actualizacion, fecha_pago, fecha_procesamiento, monto, numero_transaccion, referencia_externa, tipo_pago, id_venta) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-21 20:00:02.375 [http-nio-8080-exec-1] INFO  c.a.service.impl.VentaServiceImpl - Venta procesada exitosamente - ID: 17, Total: 200.00
2025-10-21 20:00:02.375 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* update
        for com.applegym.entity.Carrito */update carrito 
    set
        id_cliente=?,
        estado=?,
        fecha=?,
        fecha_actualizacion=?,
        total=? 
    where
        id_carrito=?
2025-10-21 20:00:02.388 [http-nio-8080-exec-1] INFO  c.a.controller.VentaController - Venta procesada exitosamente - ID: 17, Cliente: pepe@gmail.com
2025-10-21 20:00:02.388 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/ventas/comprobante/17/pdf
2025-10-21 20:00:02.395 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 20:00:02.395 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/ventas/comprobante/17/pdf
2025-10-21 20:00:02.395 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        v1_0.id_venta,
        v1_0.id_cliente,
        v1_0.estado,
        v1_0.fecha_actualizacion,
        v1_0.fecha_venta,
        v1_0.numero_venta,
        v1_0.observaciones,
        v1_0.total 
    from
        venta v1_0 
    where
        v1_0.id_venta=?
2025-10-21 20:00:02.405 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id_comprobante,
        c1_0.archivo_comprobante,
        c1_0.estado_comprobante,
        c1_0.fecha_actualizacion,
        c1_0.fecha_emision,
        c1_0.fecha_envio,
        c1_0.hash_documento,
        c1_0.numero_comprobante,
        c1_0.observaciones,
        c1_0.serie_comprobante,
        c1_0.tipo_comprobante,
        c1_0.url_descarga,
        c1_0.id_venta 
    from
        comprobante c1_0 
    where
        c1_0.id_venta=?
2025-10-21 20:00:02.407 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id_pago,
        p1_0.codigo_autorizacion,
        p1_0.detalles_pago,
        p1_0.estado_pago,
        p1_0.fecha_actualizacion,
        p1_0.fecha_pago,
        p1_0.fecha_procesamiento,
        p1_0.monto,
        p1_0.numero_transaccion,
        p1_0.referencia_externa,
        p1_0.tipo_pago,
        p1_0.id_venta 
    from
        pago p1_0 
    where
        p1_0.id_venta=?
2025-10-21 20:00:02.407 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.id_cliente=?
2025-10-21 20:00:02.407 [http-nio-8080-exec-3] INFO  c.a.service.impl.PdfServiceImpl - Generando PDF para venta ID: 17
2025-10-21 20:00:02.415 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        d1_0.id_venta,
        d1_0.id_detalle,
        d1_0.cantidad,
        d1_0.descuento_aplicado,
        d1_0.fecha_creacion,
        d1_0.id_producto_servicio,
        d1_0.nombre,
        d1_0.precio_unitario,
        d1_0.id_producto,
        d1_0.id_servicio,
        d1_0.subtotal,
        d1_0.tipo 
    from
        detalle_venta d1_0 
    where
        d1_0.id_venta=?
2025-10-21 20:00:02.425 [http-nio-8080-exec-3] INFO  c.a.service.impl.PdfServiceImpl - PDF generado exitosamente para venta ID: 17
2025-10-21 20:00:02.425 [http-nio-8080-exec-3] INFO  c.a.controller.VentaController - PDF generado para venta ID: 17, Cliente: pepe@gmail.com
2025-10-21 20:00:05.926 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-full/catalogo
2025-10-21 20:00:05.928 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:00:05.928 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-full/catalogo
2025-10-21 20:00:05.929 [http-nio-8080-exec-10] INFO  c.a.controller.TestControllerFull - Obteniendo catálogo desde base de datos MySQL
2025-10-21 20:00:05.931 [http-nio-8080-exec-10] INFO  c.a.controller.TestControllerFull - ✅ Catálogo cargado exitosamente: 1 productos, 12 servicios
2025-10-21 20:04:45.263 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /catalogo.html
2025-10-21 20:04:45.264 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:04:45.264 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /catalogo.html
2025-10-21 20:04:45.280 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-full/catalogo
2025-10-21 20:04:45.280 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:04:45.280 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-full/catalogo
2025-10-21 20:04:45.281 [http-nio-8080-exec-5] INFO  c.a.controller.TestControllerFull - Obteniendo catálogo desde base de datos MySQL
2025-10-21 20:04:45.284 [http-nio-8080-exec-5] INFO  c.a.controller.TestControllerFull - ✅ Catálogo cargado exitosamente: 1 productos, 12 servicios
2025-10-21 20:05:02.629 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 20:05:02.634 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-21 20:05:02.634 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-21 20:05:23.457 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-10-21 20:05:23.514 [main] INFO  com.applegym.AppleGymApplication - Starting AppleGymApplication using Java 22.0.1 with PID 26580 (D:\ATAHUALPA\AppleGym\target\classes started by Usuario in D:\ATAHUALPA\AppleGym)
2025-10-21 20:05:23.514 [main] INFO  com.applegym.AppleGymApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-21 20:05:24.036 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-21 20:05:24.110 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 68 ms. Found 8 JPA repository interfaces.
2025-10-21 20:05:24.544 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-21 20:05:24.549 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-10-21 20:05:24.552 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-21 20:05:24.552 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-21 20:05:24.614 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-21 20:05:24.614 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1062 ms
2025-10-21 20:05:24.725 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-21 20:05:24.766 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-21 20:05:24.787 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-21 20:05:24.984 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-21 20:05:25.004 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 20:05:25.124 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6ec3d8e4
2025-10-21 20:05:25.124 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-21 20:05:26.004 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-21 20:05:26.124 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 20:05:26.378 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-21 20:05:27.429 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@713c60e0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@38133bca, org.springframework.security.web.context.SecurityContextHolderFilter@2c6dab96, org.springframework.security.web.header.HeaderWriterFilter@2434f548, org.springframework.web.filter.CorsFilter@36bf4340, org.springframework.security.web.authentication.logout.LogoutFilter@7227f4bd, com.applegym.security.JwtAuthenticationFilter@6145981c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4679df4b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@800a742, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4fe7962, org.springframework.security.web.session.SessionManagementFilter@6a15ec76, org.springframework.security.web.access.ExceptionTranslationFilter@230a9783, org.springframework.security.web.access.intercept.AuthorizationFilter@177bd3ae]
2025-10-21 20:05:27.474 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-10-21 20:05:27.784 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-10-21 20:05:27.804 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-10-21 20:05:27.804 [main] INFO  com.applegym.AppleGymApplication - Started AppleGymApplication in 4.717 seconds (process running for 5.048)
2025-10-21 20:05:34.294 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-21 20:05:34.294 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-21 20:05:34.294 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-10-21 20:05:34.304 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 20:05:34.310 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:05:34.310 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 20:05:34.338 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 20:05:34.338 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 20:05:34.368 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/styles.css
2025-10-21 20:05:34.369 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:05:34.369 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/styles.css
2025-10-21 20:05:34.376 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/logo-gym.png
2025-10-21 20:05:34.376 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/config.js
2025-10-21 20:05:34.376 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/auth.js
2025-10-21 20:05:34.377 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:05:34.377 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:05:34.377 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:05:34.377 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/config.js
2025-10-21 20:05:34.377 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/auth.js
2025-10-21 20:05:34.377 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/logo-gym.png
2025-10-21 20:05:34.378 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/utils.js
2025-10-21 20:05:34.378 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/cart.js
2025-10-21 20:05:34.379 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:05:34.379 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:05:34.379 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/utils.js
2025-10-21 20:05:34.379 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/cart.js
2025-10-21 20:05:34.381 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
2025-10-21 20:05:34.386 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:05:34.386 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
2025-10-21 20:05:42.789 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 20:05:42.794 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:05:42.794 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 20:05:42.927 [http-nio-8080-exec-8] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: pepe@gmail.com
2025-10-21 20:05:43.308 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 20:05:43.646 [http-nio-8080-exec-8] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-10-21 20:05:43.684 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-10-21 20:05:43.694 [http-nio-8080-exec-8] INFO  c.applegym.controller.AuthController - Inicio de sesión exitoso para usuario: pepe@gmail.com - Token generado
2025-10-21 20:05:44.997 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /catalogo.html
2025-10-21 20:05:44.998 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:05:44.999 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /catalogo.html
2025-10-21 20:05:45.021 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/catalog.js
2025-10-21 20:05:45.022 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:05:45.022 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/catalog.js
2025-10-21 20:05:45.032 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-full/catalogo
2025-10-21 20:05:45.034 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:05:45.034 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-full/catalogo
2025-10-21 20:05:45.035 [http-nio-8080-exec-6] INFO  c.a.controller.TestControllerFull - Obteniendo catálogo desde base de datos MySQL
2025-10-21 20:05:45.041 [http-nio-8080-exec-6] INFO  c.a.controller.TestControllerFull - ✅ Catálogo cargado exitosamente: 1 productos, 12 servicios
2025-10-21 20:06:08.216 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/carrito/agregar
2025-10-21 20:06:08.242 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 20:06:08.245 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/carrito/agregar
2025-10-21 20:06:08.285 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 20:06:08.300 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_carrito,
        c1_0.id_cliente,
        c1_0.estado,
        c1_0.fecha,
        c1_0.fecha_actualizacion,
        c1_0.total 
    from
        carrito c1_0 
    where
        c1_0.id_cliente=? 
        and c1_0.estado=?
2025-10-21 20:06:08.322 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.Carrito */insert 
    into
        carrito (id_cliente, estado, fecha, fecha_actualizacion, total) 
    values
        (?, ?, ?, ?, ?)
2025-10-21 20:06:08.342 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id_producto,
        p1_0.activo,
        p1_0.id_categoria,
        p1_0.descripcion,
        p1_0.fecha_actualizacion,
        p1_0.fecha_creacion,
        p1_0.imagen_url,
        p1_0.nombre,
        p1_0.precio,
        p1_0.stock 
    from
        producto p1_0 
    where
        p1_0.id_producto=?
2025-10-21 20:06:08.355 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.DetalleCarrito */insert 
    into
        detalle_carrito (cantidad, id_carrito, descripcion_item, descuento_aplicado, fecha_agregado, id_item, nombre_item, precio_unitario, id_producto, id_promocion, id_servicio, subtotal, tipo) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-21 20:06:08.359 [http-nio-8080-exec-8] INFO  c.a.service.impl.CarritoServiceImpl - Item agregado al carrito exitosamente - Carrito ID: 47
2025-10-21 20:06:08.390 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* update
        for com.applegym.entity.Carrito */update carrito 
    set
        id_cliente=?,
        estado=?,
        fecha=?,
        fecha_actualizacion=?,
        total=? 
    where
        id_carrito=?
2025-10-21 20:06:08.418 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/ventas/procesar
2025-10-21 20:06:08.424 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 20:06:08.426 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/ventas/procesar
2025-10-21 20:06:08.432 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 20:06:08.435 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_carrito,
        c1_0.id_cliente,
        c1_0.estado,
        c1_0.fecha,
        c1_0.fecha_actualizacion,
        c1_0.total 
    from
        carrito c1_0 
    where
        c1_0.id_cliente=? 
        and c1_0.estado=?
2025-10-21 20:06:08.440 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        d1_0.id_carrito,
        d1_0.id_detalle_carrito,
        d1_0.cantidad,
        d1_0.descripcion_item,
        d1_0.descuento_aplicado,
        d1_0.fecha_agregado,
        d1_0.id_item,
        d1_0.nombre_item,
        d1_0.precio_unitario,
        d1_0.id_producto,
        d1_0.id_promocion,
        d1_0.id_servicio,
        d1_0.subtotal,
        d1_0.tipo 
    from
        detalle_carrito d1_0 
    where
        d1_0.id_carrito=?
2025-10-21 20:06:08.443 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id_producto,
        p1_0.activo,
        p1_0.id_categoria,
        p1_0.descripcion,
        p1_0.fecha_actualizacion,
        p1_0.fecha_creacion,
        p1_0.imagen_url,
        p1_0.nombre,
        p1_0.precio,
        p1_0.stock 
    from
        producto p1_0 
    where
        p1_0.id_producto=?
2025-10-21 20:06:08.445 [http-nio-8080-exec-4] WARN  c.a.service.impl.VentaServiceImpl - Producto 'Proteina Whey Pro' (ID: 34) sin stock, marcado como inactivo
2025-10-21 20:06:08.445 [http-nio-8080-exec-4] INFO  c.a.service.impl.VentaServiceImpl - Stock actualizado - Producto: Proteina Whey Pro (ID: 34), Stock anterior: 2, Vendido: 2, Nuevo stock: 0
2025-10-21 20:06:08.450 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.Venta */insert 
    into
        venta (id_cliente, estado, fecha_actualizacion, fecha_venta, numero_venta, observaciones, total) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-10-21 20:06:08.456 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.Comprobante */insert 
    into
        comprobante (archivo_comprobante, estado_comprobante, fecha_actualizacion, fecha_emision, fecha_envio, hash_documento, numero_comprobante, observaciones, serie_comprobante, tipo_comprobante, url_descarga, id_venta) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-21 20:06:08.461 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.DetalleVenta */insert 
    into
        detalle_venta (cantidad, descuento_aplicado, fecha_creacion, id_producto_servicio, nombre, precio_unitario, id_producto, id_servicio, subtotal, tipo, id_venta) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-21 20:06:08.465 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.Pago */insert 
    into
        pago (codigo_autorizacion, detalles_pago, estado_pago, fecha_actualizacion, fecha_pago, fecha_procesamiento, monto, numero_transaccion, referencia_externa, tipo_pago, id_venta) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-21 20:06:08.467 [http-nio-8080-exec-4] INFO  c.a.service.impl.VentaServiceImpl - Venta procesada exitosamente - ID: 18, Total: 200.00
2025-10-21 20:06:08.477 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* update
        for com.applegym.entity.Carrito */update carrito 
    set
        id_cliente=?,
        estado=?,
        fecha=?,
        fecha_actualizacion=?,
        total=? 
    where
        id_carrito=?
2025-10-21 20:06:08.483 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* update
        for com.applegym.entity.Producto */update producto 
    set
        activo=?,
        id_categoria=?,
        descripcion=?,
        fecha_actualizacion=?,
        fecha_creacion=?,
        imagen_url=?,
        nombre=?,
        precio=?,
        stock=? 
    where
        id_producto=?
2025-10-21 20:06:08.490 [http-nio-8080-exec-4] INFO  c.a.controller.VentaController - Venta procesada exitosamente - ID: 18, Cliente: pepe@gmail.com
2025-10-21 20:06:08.500 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/ventas/comprobante/18/pdf
2025-10-21 20:06:08.505 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 20:06:08.507 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/ventas/comprobante/18/pdf
2025-10-21 20:06:08.514 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        v1_0.id_venta,
        v1_0.id_cliente,
        v1_0.estado,
        v1_0.fecha_actualizacion,
        v1_0.fecha_venta,
        v1_0.numero_venta,
        v1_0.observaciones,
        v1_0.total 
    from
        venta v1_0 
    where
        v1_0.id_venta=?
2025-10-21 20:06:08.519 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id_comprobante,
        c1_0.archivo_comprobante,
        c1_0.estado_comprobante,
        c1_0.fecha_actualizacion,
        c1_0.fecha_emision,
        c1_0.fecha_envio,
        c1_0.hash_documento,
        c1_0.numero_comprobante,
        c1_0.observaciones,
        c1_0.serie_comprobante,
        c1_0.tipo_comprobante,
        c1_0.url_descarga,
        c1_0.id_venta 
    from
        comprobante c1_0 
    where
        c1_0.id_venta=?
2025-10-21 20:06:08.521 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id_pago,
        p1_0.codigo_autorizacion,
        p1_0.detalles_pago,
        p1_0.estado_pago,
        p1_0.fecha_actualizacion,
        p1_0.fecha_pago,
        p1_0.fecha_procesamiento,
        p1_0.monto,
        p1_0.numero_transaccion,
        p1_0.referencia_externa,
        p1_0.tipo_pago,
        p1_0.id_venta 
    from
        pago p1_0 
    where
        p1_0.id_venta=?
2025-10-21 20:06:08.523 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.id_cliente=?
2025-10-21 20:06:08.529 [http-nio-8080-exec-1] INFO  c.a.service.impl.PdfServiceImpl - Generando PDF para venta ID: 18
2025-10-21 20:06:08.683 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        d1_0.id_venta,
        d1_0.id_detalle,
        d1_0.cantidad,
        d1_0.descuento_aplicado,
        d1_0.fecha_creacion,
        d1_0.id_producto_servicio,
        d1_0.nombre,
        d1_0.precio_unitario,
        d1_0.id_producto,
        d1_0.id_servicio,
        d1_0.subtotal,
        d1_0.tipo 
    from
        detalle_venta d1_0 
    where
        d1_0.id_venta=?
2025-10-21 20:06:08.704 [http-nio-8080-exec-1] INFO  c.a.service.impl.PdfServiceImpl - PDF generado exitosamente para venta ID: 18
2025-10-21 20:06:08.705 [http-nio-8080-exec-1] INFO  c.a.controller.VentaController - PDF generado para venta ID: 18, Cliente: pepe@gmail.com
2025-10-21 20:06:14.532 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-full/catalogo
2025-10-21 20:06:14.534 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:06:14.534 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-full/catalogo
2025-10-21 20:06:14.534 [http-nio-8080-exec-5] INFO  c.a.controller.TestControllerFull - Obteniendo catálogo desde base de datos MySQL
2025-10-21 20:06:14.537 [http-nio-8080-exec-5] INFO  c.a.controller.TestControllerFull - ✅ Catálogo cargado exitosamente: 0 productos, 12 servicios
2025-10-21 20:07:10.295 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /catalogo.html
2025-10-21 20:07:10.296 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:07:10.297 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /catalogo.html
2025-10-21 20:07:10.313 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-full/catalogo
2025-10-21 20:07:10.313 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:07:10.313 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-full/catalogo
2025-10-21 20:07:10.314 [http-nio-8080-exec-3] INFO  c.a.controller.TestControllerFull - Obteniendo catálogo desde base de datos MySQL
2025-10-21 20:07:10.315 [http-nio-8080-exec-3] INFO  c.a.controller.TestControllerFull - ✅ Catálogo cargado exitosamente: 0 productos, 12 servicios
2025-10-21 20:07:15.464 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /catalogo.html
2025-10-21 20:07:15.464 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:07:15.464 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /catalogo.html
2025-10-21 20:07:15.482 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-full/catalogo
2025-10-21 20:07:15.483 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:07:15.483 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-full/catalogo
2025-10-21 20:07:15.484 [http-nio-8080-exec-8] INFO  c.a.controller.TestControllerFull - Obteniendo catálogo desde base de datos MySQL
2025-10-21 20:07:15.485 [http-nio-8080-exec-8] INFO  c.a.controller.TestControllerFull - ✅ Catálogo cargado exitosamente: 0 productos, 12 servicios
2025-10-21 20:07:16.125 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /catalogo.html
2025-10-21 20:07:16.125 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:07:16.125 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /catalogo.html
2025-10-21 20:07:16.146 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-full/catalogo
2025-10-21 20:07:16.147 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:07:16.147 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-full/catalogo
2025-10-21 20:07:16.147 [http-nio-8080-exec-1] INFO  c.a.controller.TestControllerFull - Obteniendo catálogo desde base de datos MySQL
2025-10-21 20:07:16.149 [http-nio-8080-exec-1] INFO  c.a.controller.TestControllerFull - ✅ Catálogo cargado exitosamente: 0 productos, 12 servicios
2025-10-21 20:07:16.317 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /catalogo.html
2025-10-21 20:07:16.318 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:07:16.318 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /catalogo.html
2025-10-21 20:07:16.324 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-full/catalogo
2025-10-21 20:07:16.324 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:07:16.324 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-full/catalogo
2025-10-21 20:07:16.324 [http-nio-8080-exec-5] INFO  c.a.controller.TestControllerFull - Obteniendo catálogo desde base de datos MySQL
2025-10-21 20:07:16.334 [http-nio-8080-exec-5] INFO  c.a.controller.TestControllerFull - ✅ Catálogo cargado exitosamente: 0 productos, 12 servicios
2025-10-21 20:07:16.511 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /catalogo.html
2025-10-21 20:07:16.512 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:07:16.512 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /catalogo.html
2025-10-21 20:07:16.526 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-full/catalogo
2025-10-21 20:07:16.527 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:07:16.527 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-full/catalogo
2025-10-21 20:07:16.527 [http-nio-8080-exec-9] INFO  c.a.controller.TestControllerFull - Obteniendo catálogo desde base de datos MySQL
2025-10-21 20:07:16.530 [http-nio-8080-exec-9] INFO  c.a.controller.TestControllerFull - ✅ Catálogo cargado exitosamente: 0 productos, 12 servicios
2025-10-21 20:07:16.693 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /catalogo.html
2025-10-21 20:07:16.694 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:07:16.694 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /catalogo.html
2025-10-21 20:07:16.707 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-full/catalogo
2025-10-21 20:07:16.707 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:07:16.709 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-full/catalogo
2025-10-21 20:07:16.709 [http-nio-8080-exec-3] INFO  c.a.controller.TestControllerFull - Obteniendo catálogo desde base de datos MySQL
2025-10-21 20:07:16.711 [http-nio-8080-exec-3] INFO  c.a.controller.TestControllerFull - ✅ Catálogo cargado exitosamente: 0 productos, 12 servicios
2025-10-21 20:10:05.194 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 20:10:05.196 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-21 20:10:05.203 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-21 20:11:22.633 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-10-21 20:11:22.699 [main] INFO  com.applegym.AppleGymApplication - Starting AppleGymApplication using Java 22.0.1 with PID 10820 (D:\ATAHUALPA\AppleGym\target\classes started by Usuario in D:\ATAHUALPA\AppleGym)
2025-10-21 20:11:22.699 [main] INFO  com.applegym.AppleGymApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-21 20:11:23.247 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-21 20:11:23.327 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 69 ms. Found 8 JPA repository interfaces.
2025-10-21 20:11:23.753 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-21 20:11:23.753 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-10-21 20:11:23.753 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-21 20:11:23.753 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-21 20:11:23.833 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-21 20:11:23.833 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1102 ms
2025-10-21 20:11:23.933 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-21 20:11:23.968 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-21 20:11:23.999 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-21 20:11:24.173 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-21 20:11:24.199 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 20:11:24.313 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3feebf9c
2025-10-21 20:11:24.313 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-21 20:11:25.240 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-21 20:11:25.358 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 20:11:25.647 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-21 20:11:26.733 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1c07798b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@9b79784, org.springframework.security.web.context.SecurityContextHolderFilter@1c44579, org.springframework.security.web.header.HeaderWriterFilter@47232c32, org.springframework.web.filter.CorsFilter@309c821d, org.springframework.security.web.authentication.logout.LogoutFilter@34106ddc, com.applegym.security.JwtAuthenticationFilter@5248688c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@397cb21e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c692e24, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@381f7b8e, org.springframework.security.web.session.SessionManagementFilter@2434f548, org.springframework.security.web.access.ExceptionTranslationFilter@e9c78b3, org.springframework.security.web.access.intercept.AuthorizationFilter@aa3e0d7]
2025-10-21 20:11:26.787 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-10-21 20:11:27.103 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-10-21 20:11:27.117 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-10-21 20:11:27.123 [main] INFO  com.applegym.AppleGymApplication - Started AppleGymApplication in 4.887 seconds (process running for 5.224)
2025-10-21 20:11:33.203 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-21 20:11:33.203 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-21 20:11:33.203 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-10-21 20:11:33.216 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 20:11:33.223 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:11:33.223 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 20:11:33.243 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 20:11:33.243 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 20:11:33.279 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/styles.css
2025-10-21 20:11:33.280 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:11:33.280 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/styles.css
2025-10-21 20:11:33.286 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/logo-gym.png
2025-10-21 20:11:33.286 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/auth.js
2025-10-21 20:11:33.286 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/config.js
2025-10-21 20:11:33.287 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:11:33.287 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:11:33.288 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/auth.js
2025-10-21 20:11:33.288 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/logo-gym.png
2025-10-21 20:11:33.288 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:11:33.288 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/config.js
2025-10-21 20:11:33.291 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/cart.js
2025-10-21 20:11:33.291 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/utils.js
2025-10-21 20:11:33.291 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:11:33.291 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:11:33.291 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/cart.js
2025-10-21 20:11:33.291 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/utils.js
2025-10-21 20:11:33.301 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
2025-10-21 20:11:33.302 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:11:33.302 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
2025-10-21 20:11:41.183 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 20:11:41.183 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:11:41.183 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 20:11:41.303 [http-nio-8080-exec-9] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: pepe@gmail.com
2025-10-21 20:11:41.673 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 20:11:42.016 [http-nio-8080-exec-9] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-10-21 20:11:42.063 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-10-21 20:11:42.066 [http-nio-8080-exec-9] INFO  c.applegym.controller.AuthController - Inicio de sesión exitoso para usuario: pepe@gmail.com - Token generado
2025-10-21 20:11:43.188 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /catalogo.html
2025-10-21 20:11:43.189 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:11:43.189 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /catalogo.html
2025-10-21 20:11:43.211 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/catalog.js
2025-10-21 20:11:43.211 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:11:43.211 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/catalog.js
2025-10-21 20:11:43.230 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-full/catalogo
2025-10-21 20:11:43.230 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:11:43.230 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-full/catalogo
2025-10-21 20:11:43.232 [http-nio-8080-exec-2] INFO  c.a.controller.TestControllerFull - Obteniendo catálogo desde base de datos MySQL
2025-10-21 20:11:43.240 [http-nio-8080-exec-2] INFO  c.a.controller.TestControllerFull - ✅ Catálogo cargado exitosamente: 0 productos, 12 servicios
2025-10-21 20:12:11.373 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /catalogo.html
2025-10-21 20:12:11.373 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:12:11.373 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /catalogo.html
2025-10-21 20:12:11.395 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-full/catalogo
2025-10-21 20:12:11.395 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:12:11.397 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-full/catalogo
2025-10-21 20:12:11.397 [http-nio-8080-exec-10] INFO  c.a.controller.TestControllerFull - Obteniendo catálogo desde base de datos MySQL
2025-10-21 20:12:11.400 [http-nio-8080-exec-10] INFO  c.a.controller.TestControllerFull - ✅ Catálogo cargado exitosamente: 0 productos, 12 servicios
2025-10-21 20:13:54.212 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /catalogo.html
2025-10-21 20:13:54.212 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:13:54.212 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /catalogo.html
2025-10-21 20:13:54.236 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-full/catalogo
2025-10-21 20:13:54.237 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:13:54.238 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-full/catalogo
2025-10-21 20:13:54.238 [http-nio-8080-exec-6] INFO  c.a.controller.TestControllerFull - Obteniendo catálogo desde base de datos MySQL
2025-10-21 20:13:54.240 [http-nio-8080-exec-6] INFO  c.a.controller.TestControllerFull - ✅ Catálogo cargado exitosamente: 1 productos, 12 servicios
2025-10-21 20:14:12.238 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/carrito/agregar
2025-10-21 20:14:12.263 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 20:14:12.263 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/carrito/agregar
2025-10-21 20:14:12.295 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 20:14:12.311 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_carrito,
        c1_0.id_cliente,
        c1_0.estado,
        c1_0.fecha,
        c1_0.fecha_actualizacion,
        c1_0.total 
    from
        carrito c1_0 
    where
        c1_0.id_cliente=? 
        and c1_0.estado=?
2025-10-21 20:14:12.335 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.Carrito */insert 
    into
        carrito (id_cliente, estado, fecha, fecha_actualizacion, total) 
    values
        (?, ?, ?, ?, ?)
2025-10-21 20:14:12.352 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id_producto,
        p1_0.activo,
        p1_0.id_categoria,
        p1_0.descripcion,
        p1_0.fecha_actualizacion,
        p1_0.fecha_creacion,
        p1_0.imagen_url,
        p1_0.nombre,
        p1_0.precio,
        p1_0.stock 
    from
        producto p1_0 
    where
        p1_0.id_producto=?
2025-10-21 20:14:12.367 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.DetalleCarrito */insert 
    into
        detalle_carrito (cantidad, id_carrito, descripcion_item, descuento_aplicado, fecha_agregado, id_item, nombre_item, precio_unitario, id_producto, id_promocion, id_servicio, subtotal, tipo) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-21 20:14:12.372 [http-nio-8080-exec-3] INFO  c.a.service.impl.CarritoServiceImpl - Item agregado al carrito exitosamente - Carrito ID: 48
2025-10-21 20:14:12.402 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* update
        for com.applegym.entity.Carrito */update carrito 
    set
        id_cliente=?,
        estado=?,
        fecha=?,
        fecha_actualizacion=?,
        total=? 
    where
        id_carrito=?
2025-10-21 20:14:12.422 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/ventas/procesar
2025-10-21 20:14:12.432 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 20:14:12.432 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/ventas/procesar
2025-10-21 20:14:12.438 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 20:14:12.438 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_carrito,
        c1_0.id_cliente,
        c1_0.estado,
        c1_0.fecha,
        c1_0.fecha_actualizacion,
        c1_0.total 
    from
        carrito c1_0 
    where
        c1_0.id_cliente=? 
        and c1_0.estado=?
2025-10-21 20:14:12.445 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        d1_0.id_carrito,
        d1_0.id_detalle_carrito,
        d1_0.cantidad,
        d1_0.descripcion_item,
        d1_0.descuento_aplicado,
        d1_0.fecha_agregado,
        d1_0.id_item,
        d1_0.nombre_item,
        d1_0.precio_unitario,
        d1_0.id_producto,
        d1_0.id_promocion,
        d1_0.id_servicio,
        d1_0.subtotal,
        d1_0.tipo 
    from
        detalle_carrito d1_0 
    where
        d1_0.id_carrito=?
2025-10-21 20:14:12.445 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id_producto,
        p1_0.activo,
        p1_0.id_categoria,
        p1_0.descripcion,
        p1_0.fecha_actualizacion,
        p1_0.fecha_creacion,
        p1_0.imagen_url,
        p1_0.nombre,
        p1_0.precio,
        p1_0.stock 
    from
        producto p1_0 
    where
        p1_0.id_producto=?
2025-10-21 20:14:12.445 [http-nio-8080-exec-4] INFO  c.a.service.impl.VentaServiceImpl - Stock actualizado - Producto: Proteina Whey Pro (ID: 35), Stock anterior: 2, Vendido: 2, Nuevo stock: 0
2025-10-21 20:14:12.445 [http-nio-8080-exec-4] WARN  c.a.service.impl.VentaServiceImpl - Producto 'Proteina Whey Pro' (ID: 35) sin stock disponible
2025-10-21 20:14:12.452 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.Venta */insert 
    into
        venta (id_cliente, estado, fecha_actualizacion, fecha_venta, numero_venta, observaciones, total) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-10-21 20:14:12.457 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.Comprobante */insert 
    into
        comprobante (archivo_comprobante, estado_comprobante, fecha_actualizacion, fecha_emision, fecha_envio, hash_documento, numero_comprobante, observaciones, serie_comprobante, tipo_comprobante, url_descarga, id_venta) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-21 20:14:12.462 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.DetalleVenta */insert 
    into
        detalle_venta (cantidad, descuento_aplicado, fecha_creacion, id_producto_servicio, nombre, precio_unitario, id_producto, id_servicio, subtotal, tipo, id_venta) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-21 20:14:12.462 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.Pago */insert 
    into
        pago (codigo_autorizacion, detalles_pago, estado_pago, fecha_actualizacion, fecha_pago, fecha_procesamiento, monto, numero_transaccion, referencia_externa, tipo_pago, id_venta) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-21 20:14:12.462 [http-nio-8080-exec-4] INFO  c.a.service.impl.VentaServiceImpl - Venta procesada exitosamente - ID: 19, Total: 200.00
2025-10-21 20:14:12.472 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* update
        for com.applegym.entity.Carrito */update carrito 
    set
        id_cliente=?,
        estado=?,
        fecha=?,
        fecha_actualizacion=?,
        total=? 
    where
        id_carrito=?
2025-10-21 20:14:12.478 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* update
        for com.applegym.entity.Producto */update producto 
    set
        activo=?,
        id_categoria=?,
        descripcion=?,
        fecha_actualizacion=?,
        fecha_creacion=?,
        imagen_url=?,
        nombre=?,
        precio=?,
        stock=? 
    where
        id_producto=?
2025-10-21 20:14:12.482 [http-nio-8080-exec-4] INFO  c.a.controller.VentaController - Venta procesada exitosamente - ID: 19, Cliente: pepe@gmail.com
2025-10-21 20:14:12.495 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/ventas/comprobante/19/pdf
2025-10-21 20:14:12.502 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 20:14:12.502 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/ventas/comprobante/19/pdf
2025-10-21 20:14:12.502 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        v1_0.id_venta,
        v1_0.id_cliente,
        v1_0.estado,
        v1_0.fecha_actualizacion,
        v1_0.fecha_venta,
        v1_0.numero_venta,
        v1_0.observaciones,
        v1_0.total 
    from
        venta v1_0 
    where
        v1_0.id_venta=?
2025-10-21 20:14:12.514 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id_comprobante,
        c1_0.archivo_comprobante,
        c1_0.estado_comprobante,
        c1_0.fecha_actualizacion,
        c1_0.fecha_emision,
        c1_0.fecha_envio,
        c1_0.hash_documento,
        c1_0.numero_comprobante,
        c1_0.observaciones,
        c1_0.serie_comprobante,
        c1_0.tipo_comprobante,
        c1_0.url_descarga,
        c1_0.id_venta 
    from
        comprobante c1_0 
    where
        c1_0.id_venta=?
2025-10-21 20:14:12.514 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id_pago,
        p1_0.codigo_autorizacion,
        p1_0.detalles_pago,
        p1_0.estado_pago,
        p1_0.fecha_actualizacion,
        p1_0.fecha_pago,
        p1_0.fecha_procesamiento,
        p1_0.monto,
        p1_0.numero_transaccion,
        p1_0.referencia_externa,
        p1_0.tipo_pago,
        p1_0.id_venta 
    from
        pago p1_0 
    where
        p1_0.id_venta=?
2025-10-21 20:14:12.514 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.id_cliente=?
2025-10-21 20:14:12.514 [http-nio-8080-exec-9] INFO  c.a.service.impl.PdfServiceImpl - Generando PDF para venta ID: 19
2025-10-21 20:14:12.652 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        d1_0.id_venta,
        d1_0.id_detalle,
        d1_0.cantidad,
        d1_0.descuento_aplicado,
        d1_0.fecha_creacion,
        d1_0.id_producto_servicio,
        d1_0.nombre,
        d1_0.precio_unitario,
        d1_0.id_producto,
        d1_0.id_servicio,
        d1_0.subtotal,
        d1_0.tipo 
    from
        detalle_venta d1_0 
    where
        d1_0.id_venta=?
2025-10-21 20:14:12.672 [http-nio-8080-exec-9] INFO  c.a.service.impl.PdfServiceImpl - PDF generado exitosamente para venta ID: 19
2025-10-21 20:14:12.677 [http-nio-8080-exec-9] INFO  c.a.controller.VentaController - PDF generado para venta ID: 19, Cliente: pepe@gmail.com
2025-10-21 20:14:17.522 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-full/catalogo
2025-10-21 20:14:17.522 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:14:17.522 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-full/catalogo
2025-10-21 20:14:17.522 [http-nio-8080-exec-1] INFO  c.a.controller.TestControllerFull - Obteniendo catálogo desde base de datos MySQL
2025-10-21 20:14:17.530 [http-nio-8080-exec-1] INFO  c.a.controller.TestControllerFull - ✅ Catálogo cargado exitosamente: 1 productos, 12 servicios
2025-10-21 20:14:29.784 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /catalogo.html
2025-10-21 20:14:29.786 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:14:29.786 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /catalogo.html
2025-10-21 20:14:29.803 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-full/catalogo
2025-10-21 20:14:29.803 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:14:29.803 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-full/catalogo
2025-10-21 20:14:29.804 [http-nio-8080-exec-5] INFO  c.a.controller.TestControllerFull - Obteniendo catálogo desde base de datos MySQL
2025-10-21 20:14:29.806 [http-nio-8080-exec-5] INFO  c.a.controller.TestControllerFull - ✅ Catálogo cargado exitosamente: 1 productos, 12 servicios
2025-10-21 20:14:35.424 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 20:14:35.424 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-21 20:14:35.432 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-21 20:15:18.297 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-10-21 20:15:18.392 [main] INFO  com.applegym.AppleGymApplication - Starting AppleGymApplication using Java 22.0.1 with PID 26100 (D:\ATAHUALPA\AppleGym\target\classes started by Usuario in D:\ATAHUALPA\AppleGym)
2025-10-21 20:15:18.394 [main] INFO  com.applegym.AppleGymApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-21 20:15:19.057 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-21 20:15:19.171 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 104 ms. Found 8 JPA repository interfaces.
2025-10-21 20:15:19.730 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-21 20:15:19.737 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-10-21 20:15:19.739 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-21 20:15:19.739 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-21 20:15:19.823 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-21 20:15:19.824 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1377 ms
2025-10-21 20:15:19.927 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-21 20:15:19.987 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-21 20:15:20.017 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-21 20:15:20.232 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-21 20:15:20.269 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 20:15:20.412 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6e981e78
2025-10-21 20:15:20.412 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-21 20:15:21.472 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-21 20:15:21.612 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 20:15:21.887 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-21 20:15:22.984 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@237b3ab6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@489b0369, org.springframework.security.web.context.SecurityContextHolderFilter@1cf516fa, org.springframework.security.web.header.HeaderWriterFilter@16c0ea9b, org.springframework.web.filter.CorsFilter@2016896e, org.springframework.security.web.authentication.logout.LogoutFilter@381f7b8e, com.applegym.security.JwtAuthenticationFilter@28728558, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4c5c8926, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a230707, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2d279cd2, org.springframework.security.web.session.SessionManagementFilter@541276dc, org.springframework.security.web.access.ExceptionTranslationFilter@7c692e24, org.springframework.security.web.access.intercept.AuthorizationFilter@37bb8606]
2025-10-21 20:15:23.027 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-10-21 20:15:23.332 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-10-21 20:15:23.342 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-10-21 20:15:23.354 [main] INFO  com.applegym.AppleGymApplication - Started AppleGymApplication in 5.946 seconds (process running for 6.392)
2025-10-21 20:15:28.260 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-21 20:15:28.260 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-21 20:15:28.262 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-10-21 20:15:28.263 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 20:15:28.272 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:15:28.275 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 20:15:28.303 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 20:15:28.303 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 20:15:28.378 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/styles.css
2025-10-21 20:15:28.380 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:15:28.380 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/styles.css
2025-10-21 20:15:28.386 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/config.js
2025-10-21 20:15:28.386 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/logo-gym.png
2025-10-21 20:15:28.386 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:15:28.386 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:15:28.387 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/config.js
2025-10-21 20:15:28.387 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/logo-gym.png
2025-10-21 20:15:28.389 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/auth.js
2025-10-21 20:15:28.389 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/cart.js
2025-10-21 20:15:28.390 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:15:28.390 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:15:28.390 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/utils.js
2025-10-21 20:15:28.390 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/cart.js
2025-10-21 20:15:28.390 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/auth.js
2025-10-21 20:15:28.390 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:15:28.390 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/utils.js
2025-10-21 20:15:28.394 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
2025-10-21 20:15:28.394 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:15:28.394 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
2025-10-21 20:15:29.867 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-10-21 20:15:29.867 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:15:29.867 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /favicon.ico
2025-10-21 20:15:29.872 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 20:15:29.872 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 20:15:29.912 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:15:41.244 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 20:15:41.248 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:15:41.249 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 20:15:41.322 [http-nio-8080-exec-9] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: applegym@admin.com
2025-10-21 20:15:41.662 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 20:15:41.744 [http-nio-8080-exec-9] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to authenticate since password does not match stored value
2025-10-21 20:15:41.752 [http-nio-8080-exec-9] WARN  c.applegym.controller.AuthController - Fallo en autenticación para usuario: applegym@admin.com
2025-10-21 20:15:48.102 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 20:15:48.102 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:15:48.102 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 20:15:48.102 [http-nio-8080-exec-8] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: applegym@admin.com
2025-10-21 20:15:48.106 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 20:15:48.174 [http-nio-8080-exec-8] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to authenticate since password does not match stored value
2025-10-21 20:15:48.174 [http-nio-8080-exec-8] WARN  c.applegym.controller.AuthController - Fallo en autenticación para usuario: applegym@admin.com
2025-10-21 20:15:49.765 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 20:15:49.765 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:15:49.765 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 20:15:49.766 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 20:15:49.767 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 20:15:49.768 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:16:07.982 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 20:16:07.982 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-21 20:16:07.982 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-21 20:22:22.481 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-10-21 20:22:22.550 [main] INFO  com.applegym.AppleGymApplication - Starting AppleGymApplication using Java 22.0.1 with PID 7180 (D:\ATAHUALPA\AppleGym\target\classes started by Usuario in D:\ATAHUALPA\AppleGym)
2025-10-21 20:22:22.551 [main] INFO  com.applegym.AppleGymApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-21 20:22:23.120 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-21 20:22:23.200 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 77 ms. Found 8 JPA repository interfaces.
2025-10-21 20:22:23.690 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-21 20:22:23.696 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-10-21 20:22:23.700 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-21 20:22:23.700 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-21 20:22:23.777 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-21 20:22:23.778 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1193 ms
2025-10-21 20:22:23.902 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-21 20:22:23.950 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-21 20:22:23.989 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-21 20:22:24.180 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-21 20:22:24.215 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 20:22:24.338 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@34cf0e80
2025-10-21 20:22:24.340 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-21 20:22:25.295 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-21 20:22:25.407 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 20:22:25.623 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-21 20:22:26.915 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6d63a79, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@177bd3ae, org.springframework.security.web.context.SecurityContextHolderFilter@73f9fc72, org.springframework.security.web.header.HeaderWriterFilter@1f33e4b5, org.springframework.web.filter.CorsFilter@4d087555, org.springframework.security.web.authentication.logout.LogoutFilter@a809e74, com.applegym.security.JwtAuthenticationFilter@75f1c170, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e38260f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@10cbdf91, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@468e9fba, org.springframework.security.web.session.SessionManagementFilter@762deb10, org.springframework.security.web.access.ExceptionTranslationFilter@2aad9c31, org.springframework.security.web.access.intercept.AuthorizationFilter@25169558]
2025-10-21 20:22:26.958 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-10-21 20:22:27.300 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-10-21 20:22:27.313 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-10-21 20:22:27.320 [main] INFO  com.applegym.AppleGymApplication - Started AppleGymApplication in 5.245 seconds (process running for 5.584)
2025-10-21 20:22:34.927 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-21 20:22:34.928 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-21 20:22:34.929 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-10-21 20:22:34.931 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 20:22:34.947 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:22:34.951 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 20:22:34.979 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 20:22:34.979 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 20:22:35.012 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/styles.css
2025-10-21 20:22:35.013 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:22:35.013 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/styles.css
2025-10-21 20:22:35.019 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/config.js
2025-10-21 20:22:35.019 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/auth.js
2025-10-21 20:22:35.019 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/logo-gym.png
2025-10-21 20:22:35.020 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:22:35.020 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:22:35.020 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:22:35.020 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/config.js
2025-10-21 20:22:35.020 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/logo-gym.png
2025-10-21 20:22:35.020 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/auth.js
2025-10-21 20:22:35.021 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/utils.js
2025-10-21 20:22:35.021 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/cart.js
2025-10-21 20:22:35.021 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:22:35.021 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:22:35.021 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/cart.js
2025-10-21 20:22:35.022 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/utils.js
2025-10-21 20:22:35.026 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
2025-10-21 20:22:35.027 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:22:35.027 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
2025-10-21 20:23:25.812 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2025-10-21 20:23:25.812 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:23:25.812 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2025-10-21 20:23:25.921 [http-nio-8080-exec-6] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> com.applegym.controller.AuthController.registerUser(com.applegym.dto.ClienteRegistroDTO): [Field error in object 'clienteRegistroDTO' on field 'confirmPassword': rejected value [null]; codes [NotBlank.clienteRegistroDTO.confirmPassword,NotBlank.confirmPassword,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [clienteRegistroDTO.confirmPassword,confirmPassword]; arguments []; default message [confirmPassword]]; default message [La confirmación de contraseña es obligatoria]] ]
2025-10-21 20:23:25.921 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-10-21 20:23:25.921 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2025-10-21 20:23:25.945 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:23:32.012 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2025-10-21 20:23:32.012 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:23:32.012 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2025-10-21 20:23:32.012 [http-nio-8080-exec-8] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> com.applegym.controller.AuthController.registerUser(com.applegym.dto.ClienteRegistroDTO): [Field error in object 'clienteRegistroDTO' on field 'confirmPassword': rejected value [null]; codes [NotBlank.clienteRegistroDTO.confirmPassword,NotBlank.confirmPassword,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [clienteRegistroDTO.confirmPassword,confirmPassword]; arguments []; default message [confirmPassword]]; default message [La confirmación de contraseña es obligatoria]] ]
2025-10-21 20:23:32.012 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-10-21 20:23:32.012 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2025-10-21 20:23:32.012 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:27:24.972 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2025-10-21 20:27:24.973 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:27:24.974 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2025-10-21 20:27:24.977 [http-nio-8080-exec-7] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> com.applegym.controller.AuthController.registerUser(com.applegym.dto.ClienteRegistroDTO): [Field error in object 'clienteRegistroDTO' on field 'confirmPassword': rejected value [null]; codes [NotBlank.clienteRegistroDTO.confirmPassword,NotBlank.confirmPassword,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [clienteRegistroDTO.confirmPassword,confirmPassword]; arguments []; default message [confirmPassword]]; default message [La confirmación de contraseña es obligatoria]] ]
2025-10-21 20:27:24.977 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-10-21 20:27:24.978 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2025-10-21 20:27:24.979 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:27:27.107 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 20:27:27.107 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:27:27.107 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 20:27:27.108 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 20:27:27.109 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 20:27:29.720 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 20:27:29.720 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-21 20:27:29.731 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-21 20:27:36.527 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-10-21 20:27:36.594 [main] INFO  com.applegym.AppleGymApplication - Starting AppleGymApplication using Java 22.0.1 with PID 26364 (D:\ATAHUALPA\AppleGym\target\classes started by Usuario in D:\ATAHUALPA\AppleGym)
2025-10-21 20:27:36.595 [main] INFO  com.applegym.AppleGymApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-21 20:27:37.169 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-21 20:27:37.244 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 69 ms. Found 8 JPA repository interfaces.
2025-10-21 20:27:37.746 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-21 20:27:37.754 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-10-21 20:27:37.757 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-21 20:27:37.757 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-21 20:27:37.840 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-21 20:27:37.840 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1212 ms
2025-10-21 20:27:37.956 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-21 20:27:38.000 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-21 20:27:38.025 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-21 20:27:38.243 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-21 20:27:38.269 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 20:27:38.405 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4ae49387
2025-10-21 20:27:38.407 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-21 20:27:39.381 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-21 20:27:39.520 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 20:27:39.801 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-21 20:27:41.020 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@37bb8606, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7bd276f2, org.springframework.security.web.context.SecurityContextHolderFilter@541276dc, org.springframework.security.web.header.HeaderWriterFilter@397cb21e, org.springframework.web.filter.CorsFilter@c102583, org.springframework.security.web.authentication.logout.LogoutFilter@1c07798b, com.applegym.security.JwtAuthenticationFilter@178cf671, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@512efef4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1cf516fa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@237b3ab6, org.springframework.security.web.session.SessionManagementFilter@4679df4b, org.springframework.security.web.access.ExceptionTranslationFilter@1c44579, org.springframework.security.web.access.intercept.AuthorizationFilter@36bf4340]
2025-10-21 20:27:41.070 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-10-21 20:27:41.430 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-10-21 20:27:41.440 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-10-21 20:27:41.453 [main] INFO  com.applegym.AppleGymApplication - Started AppleGymApplication in 5.313 seconds (process running for 5.644)
2025-10-21 20:27:48.436 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-21 20:27:48.436 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-21 20:27:48.440 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-10-21 20:27:48.440 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 20:27:48.453 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:27:48.453 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 20:27:48.497 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 20:27:48.497 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 20:27:48.529 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/styles.css
2025-10-21 20:27:48.530 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:27:48.530 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/styles.css
2025-10-21 20:27:48.539 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/logo-gym.png
2025-10-21 20:27:48.539 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/config.js
2025-10-21 20:27:48.539 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/auth.js
2025-10-21 20:27:48.540 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:27:48.540 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:27:48.540 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:27:48.540 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/logo-gym.png
2025-10-21 20:27:48.540 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/config.js
2025-10-21 20:27:48.540 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/auth.js
2025-10-21 20:27:48.541 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/cart.js
2025-10-21 20:27:48.541 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:27:48.541 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/cart.js
2025-10-21 20:27:48.543 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
2025-10-21 20:27:48.543 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/utils.js
2025-10-21 20:27:48.544 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:27:48.544 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:27:48.544 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
2025-10-21 20:27:48.544 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/utils.js
2025-10-21 20:28:14.077 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2025-10-21 20:28:14.081 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:28:14.081 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2025-10-21 20:28:14.182 [http-nio-8080-exec-5] INFO  c.applegym.controller.AuthController - Intento de registro para cliente con email: applegym@admin.com
2025-10-21 20:28:14.244 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    limit
        ?
2025-10-21 20:28:14.251 [http-nio-8080-exec-5] WARN  c.a.service.impl.ClienteServiceImpl - Contraseña débil detectada - se recomienda incluir mayúsculas, minúsculas y números
2025-10-21 20:28:14.252 [http-nio-8080-exec-5] INFO  c.a.service.impl.ClienteServiceImpl - Iniciando registro de cliente con email: applegym@admin.com
2025-10-21 20:28:14.253 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    limit
        ?
2025-10-21 20:28:14.575 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.Cliente */insert 
    into
        cliente (activo, direccion, email, fecha_actualizacion, fecha_registro, nombre_cliente, password, rol, telefono) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-21 20:28:14.587 [http-nio-8080-exec-5] INFO  c.a.service.impl.ClienteServiceImpl - Cliente registrado exitosamente con ID: 9
2025-10-21 20:28:14.599 [http-nio-8080-exec-5] INFO  c.applegym.controller.AuthController - Cliente registrado exitosamente con ID: 9
2025-10-21 20:28:25.115 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 20:28:25.117 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:28:25.117 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 20:28:25.121 [http-nio-8080-exec-9] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: applegym@admin.com
2025-10-21 20:28:25.400 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 20:28:25.677 [http-nio-8080-exec-9] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-10-21 20:28:25.696 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-10-21 20:28:25.699 [http-nio-8080-exec-9] INFO  c.applegym.controller.AuthController - Inicio de sesión exitoso para usuario: applegym@admin.com - Token generado
2025-10-21 20:37:47.942 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 20:37:47.946 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-21 20:37:47.956 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-21 20:43:33.660 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-10-21 20:43:33.723 [main] INFO  com.applegym.AppleGymApplication - Starting AppleGymApplication using Java 22.0.1 with PID 26384 (D:\ATAHUALPA\AppleGym\target\classes started by Usuario in D:\ATAHUALPA\AppleGym)
2025-10-21 20:43:33.725 [main] INFO  com.applegym.AppleGymApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-21 20:43:34.252 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-21 20:43:34.335 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 76 ms. Found 8 JPA repository interfaces.
2025-10-21 20:43:34.768 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-21 20:43:34.774 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-10-21 20:43:34.775 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-21 20:43:34.776 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-21 20:43:34.841 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-21 20:43:34.842 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1087 ms
2025-10-21 20:43:34.954 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-21 20:43:34.995 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-21 20:43:35.020 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-21 20:43:35.195 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-21 20:43:35.217 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 20:43:35.344 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@57f0bfc3
2025-10-21 20:43:35.345 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-21 20:43:36.217 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-21 20:43:36.330 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 20:43:36.584 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-21 20:43:37.706 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5f83000c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7498d9b9, org.springframework.security.web.context.SecurityContextHolderFilter@402af74, org.springframework.security.web.header.HeaderWriterFilter@2d3c799e, org.springframework.web.filter.CorsFilter@3495fc12, org.springframework.security.web.authentication.logout.LogoutFilter@23bd16f6, com.applegym.security.JwtAuthenticationFilter@ab118b8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@36b3240f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34b28d08, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@641ae, org.springframework.security.web.session.SessionManagementFilter@3c46e60a, org.springframework.security.web.access.ExceptionTranslationFilter@444050a7, org.springframework.security.web.access.intercept.AuthorizationFilter@25e1ca37]
2025-10-21 20:43:37.749 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-10-21 20:43:38.090 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-10-21 20:43:38.106 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-10-21 20:43:38.112 [main] INFO  com.applegym.AppleGymApplication - Started AppleGymApplication in 4.897 seconds (process running for 5.42)
2025-10-21 20:44:02.725 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-21 20:44:02.730 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-21 20:44:02.730 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-10-21 20:44:02.739 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 20:44:02.745 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:44:02.746 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 20:44:02.770 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 20:44:02.771 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 20:44:02.814 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/styles.css
2025-10-21 20:44:02.815 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:44:02.815 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/styles.css
2025-10-21 20:44:02.822 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/auth.js
2025-10-21 20:44:02.822 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/logo-gym.png
2025-10-21 20:44:02.822 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/config.js
2025-10-21 20:44:02.823 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:44:02.823 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:44:02.823 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:44:02.823 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/config.js
2025-10-21 20:44:02.823 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/logo-gym.png
2025-10-21 20:44:02.823 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/auth.js
2025-10-21 20:44:02.825 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/cart.js
2025-10-21 20:44:02.825 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/utils.js
2025-10-21 20:44:02.825 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:44:02.825 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:44:02.825 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/cart.js
2025-10-21 20:44:02.826 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/utils.js
2025-10-21 20:44:02.826 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
2025-10-21 20:44:02.827 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:44:02.827 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
2025-10-21 20:44:14.847 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 20:44:14.853 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:44:14.853 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 20:44:14.969 [http-nio-8080-exec-8] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: applegym@admin.com
2025-10-21 20:44:15.368 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 20:44:15.709 [http-nio-8080-exec-8] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-10-21 20:44:15.746 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-10-21 20:44:15.749 [http-nio-8080-exec-8] INFO  c.applegym.controller.AuthController - Inicio de sesión exitoso para usuario: applegym@admin.com - Token generado
2025-10-21 20:44:20.533 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 20:44:20.534 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:44:20.534 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 20:44:20.535 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 20:44:20.535 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 20:44:52.704 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin-dashboard.html
2025-10-21 20:44:52.704 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:44:52.704 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin-dashboard.html
2025-10-21 20:44:52.727 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-10-21 20:44:52.728 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:44:52.728 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-10-21 20:44:55.314 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 20:44:55.314 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:44:55.315 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 20:46:10.977 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 20:46:10.978 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:46:10.978 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 20:46:10.980 [http-nio-8080-exec-9] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: applegym@admin.com
2025-10-21 20:46:10.983 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 20:46:11.317 [http-nio-8080-exec-9] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-10-21 20:46:11.320 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-10-21 20:46:11.320 [http-nio-8080-exec-9] INFO  c.applegym.controller.AuthController - Inicio de sesión exitoso para usuario: applegym@admin.com - Token generado
2025-10-21 20:46:16.985 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 20:46:16.986 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:46:16.986 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 20:47:18.223 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 20:47:18.223 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:47:18.223 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 20:47:18.223 [http-nio-8080-exec-4] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: applegym@admin.com
2025-10-21 20:47:18.232 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 20:47:18.311 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to authenticate since password does not match stored value
2025-10-21 20:47:18.314 [http-nio-8080-exec-4] WARN  c.applegym.controller.AuthController - Fallo en autenticación para usuario: applegym@admin.com
2025-10-21 20:47:26.494 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 20:47:26.495 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:47:26.495 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 20:47:26.496 [http-nio-8080-exec-5] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: applegym@admin.com
2025-10-21 20:47:26.499 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 20:47:26.575 [http-nio-8080-exec-5] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to authenticate since password does not match stored value
2025-10-21 20:47:26.580 [http-nio-8080-exec-5] WARN  c.applegym.controller.AuthController - Fallo en autenticación para usuario: applegym@admin.com
2025-10-21 20:47:30.862 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 20:47:30.863 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:47:30.863 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 20:47:30.864 [http-nio-8080-exec-2] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: applegym@admin.com
2025-10-21 20:47:30.868 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 20:47:30.944 [http-nio-8080-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to authenticate since password does not match stored value
2025-10-21 20:47:30.945 [http-nio-8080-exec-2] WARN  c.applegym.controller.AuthController - Fallo en autenticación para usuario: applegym@admin.com
2025-10-21 20:51:17.002 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2025-10-21 20:51:17.003 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:51:17.004 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2025-10-21 20:51:17.012 [http-nio-8080-exec-9] INFO  c.applegym.controller.AuthController - Intento de registro para cliente con email: applegym@admin.com
2025-10-21 20:51:17.017 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    limit
        ?
2025-10-21 20:51:17.021 [http-nio-8080-exec-9] WARN  c.a.service.impl.ClienteServiceImpl - Contraseña débil detectada - se recomienda incluir mayúsculas, minúsculas y números
2025-10-21 20:51:17.021 [http-nio-8080-exec-9] INFO  c.a.service.impl.ClienteServiceImpl - Iniciando registro de cliente con email: applegym@admin.com
2025-10-21 20:51:17.022 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    limit
        ?
2025-10-21 20:51:17.359 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.Cliente */insert 
    into
        cliente (activo, direccion, email, fecha_actualizacion, fecha_registro, nombre_cliente, password, rol, telefono) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-21 20:51:17.370 [http-nio-8080-exec-9] INFO  c.a.service.impl.ClienteServiceImpl - Cliente registrado exitosamente con ID: 11
2025-10-21 20:51:17.383 [http-nio-8080-exec-9] INFO  c.applegym.controller.AuthController - Cliente registrado exitosamente con ID: 11
2025-10-21 20:52:00.712 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 20:52:00.713 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:52:00.714 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 20:52:00.715 [http-nio-8080-exec-3] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: applegym@admin.com
2025-10-21 20:52:00.717 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 20:52:01.024 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-10-21 20:52:01.028 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-10-21 20:52:01.030 [http-nio-8080-exec-3] INFO  c.applegym.controller.AuthController - Inicio de sesión exitoso para usuario: applegym@admin.com - Token generado
2025-10-21 20:52:03.067 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 20:52:03.068 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:52:03.068 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 20:52:03.543 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 20:52:03.544 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:52:03.544 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 20:52:06.828 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 20:52:06.828 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-21 20:52:06.843 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-21 20:52:12.995 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-10-21 20:52:13.058 [main] INFO  com.applegym.AppleGymApplication - Starting AppleGymApplication using Java 22.0.1 with PID 19512 (D:\ATAHUALPA\AppleGym\target\classes started by Usuario in D:\ATAHUALPA\AppleGym)
2025-10-21 20:52:13.059 [main] INFO  com.applegym.AppleGymApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-21 20:52:13.683 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-21 20:52:13.770 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 80 ms. Found 8 JPA repository interfaces.
2025-10-21 20:52:14.211 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-21 20:52:14.220 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-10-21 20:52:14.222 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-21 20:52:14.223 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-21 20:52:14.317 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-21 20:52:14.318 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1224 ms
2025-10-21 20:52:14.458 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-21 20:52:14.508 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-21 20:52:14.539 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-21 20:52:14.740 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-21 20:52:14.762 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 20:52:14.890 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@52285a5f
2025-10-21 20:52:14.892 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-21 20:52:15.816 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-21 20:52:15.921 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 20:52:16.200 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-21 20:52:17.373 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2c1ee7be, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5a32a00a, org.springframework.security.web.context.SecurityContextHolderFilter@3e647b97, org.springframework.security.web.header.HeaderWriterFilter@292e8d0a, org.springframework.web.filter.CorsFilter@3bd35bd0, org.springframework.security.web.authentication.logout.LogoutFilter@30f2e0e0, com.applegym.security.JwtAuthenticationFilter@2fc8e9b8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@245237eb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68a2ee75, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@37a20de7, org.springframework.security.web.session.SessionManagementFilter@fdc3b84, org.springframework.security.web.access.ExceptionTranslationFilter@4cfe2c78, org.springframework.security.web.access.intercept.AuthorizationFilter@29dbf03f]
2025-10-21 20:52:17.417 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-10-21 20:52:17.730 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-10-21 20:52:17.746 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-10-21 20:52:17.750 [main] INFO  com.applegym.AppleGymApplication - Started AppleGymApplication in 5.135 seconds (process running for 5.474)
2025-10-21 20:52:23.206 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-21 20:52:23.207 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-21 20:52:23.209 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-10-21 20:52:23.215 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 20:52:23.221 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:52:23.222 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 20:52:23.247 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 20:52:23.247 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 20:52:23.277 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/styles.css
2025-10-21 20:52:23.277 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:52:23.279 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/styles.css
2025-10-21 20:52:23.285 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/auth.js
2025-10-21 20:52:23.285 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/logo-gym.png
2025-10-21 20:52:23.285 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/config.js
2025-10-21 20:52:23.286 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:52:23.286 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:52:23.286 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:52:23.286 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/auth.js
2025-10-21 20:52:23.286 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/logo-gym.png
2025-10-21 20:52:23.286 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/config.js
2025-10-21 20:52:23.288 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/utils.js
2025-10-21 20:52:23.288 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/cart.js
2025-10-21 20:52:23.289 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:52:23.289 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:52:23.289 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/cart.js
2025-10-21 20:52:23.289 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/utils.js
2025-10-21 20:52:23.290 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
2025-10-21 20:52:23.290 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:52:23.290 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
2025-10-21 20:52:30.753 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 20:52:30.757 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:52:30.758 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 20:52:30.852 [http-nio-8080-exec-4] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: applegym@admin.com
2025-10-21 20:52:31.178 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 20:52:31.456 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-10-21 20:52:31.478 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-10-21 20:52:31.478 [http-nio-8080-exec-4] INFO  c.applegym.controller.AuthController - Inicio de sesión exitoso para usuario: applegym@admin.com - Token generado
2025-10-21 20:52:34.027 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /catalogo.html
2025-10-21 20:52:34.028 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:52:34.028 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /catalogo.html
2025-10-21 20:52:34.048 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/catalog.js
2025-10-21 20:52:34.049 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:52:34.049 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/catalog.js
2025-10-21 20:52:34.063 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-full/catalogo
2025-10-21 20:52:34.063 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:52:34.064 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-full/catalogo
2025-10-21 20:52:34.064 [http-nio-8080-exec-3] INFO  c.a.controller.TestControllerFull - Obteniendo catálogo desde base de datos MySQL
2025-10-21 20:52:34.070 [http-nio-8080-exec-3] INFO  c.a.controller.TestControllerFull - ✅ Catálogo cargado exitosamente: 1 productos, 12 servicios
2025-10-21 20:52:45.250 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 20:52:45.251 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-21 20:52:45.256 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-21 20:57:37.070 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-10-21 20:57:37.136 [main] INFO  com.applegym.AppleGymApplication - Starting AppleGymApplication using Java 22.0.1 with PID 11608 (D:\ATAHUALPA\AppleGym\target\classes started by Usuario in D:\ATAHUALPA\AppleGym)
2025-10-21 20:57:37.137 [main] INFO  com.applegym.AppleGymApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-21 20:57:37.645 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-21 20:57:37.721 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 70 ms. Found 8 JPA repository interfaces.
2025-10-21 20:57:38.143 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-21 20:57:38.150 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-10-21 20:57:38.152 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-21 20:57:38.152 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-21 20:57:38.225 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-21 20:57:38.227 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1056 ms
2025-10-21 20:57:38.320 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-21 20:57:38.363 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-21 20:57:38.393 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-21 20:57:38.563 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-21 20:57:38.577 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 20:57:38.699 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@14590fe2
2025-10-21 20:57:38.700 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-21 20:57:39.555 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-21 20:57:39.668 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 20:57:39.926 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-21 20:57:41.003 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@187b16de, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4461c22, org.springframework.security.web.context.SecurityContextHolderFilter@75c99797, org.springframework.security.web.header.HeaderWriterFilter@444050a7, org.springframework.web.filter.CorsFilter@5f83000c, org.springframework.security.web.authentication.logout.LogoutFilter@1737d824, com.applegym.security.JwtAuthenticationFilter@ab118b8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@402af74, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@fff6f48, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7498d9b9, org.springframework.security.web.session.SessionManagementFilter@7630e516, org.springframework.security.web.access.ExceptionTranslationFilter@45a2d27c, org.springframework.security.web.access.intercept.AuthorizationFilter@23a7f0db]
2025-10-21 20:57:41.042 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-10-21 20:57:41.350 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-10-21 20:57:41.365 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-10-21 20:57:41.370 [main] INFO  com.applegym.AppleGymApplication - Started AppleGymApplication in 4.658 seconds (process running for 4.98)
2025-10-21 20:57:54.185 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-21 20:57:54.185 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-21 20:57:54.187 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-10-21 20:57:54.193 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 20:57:54.198 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:57:54.198 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 20:57:54.226 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 20:57:54.226 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 20:57:54.255 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/styles.css
2025-10-21 20:57:54.256 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:57:54.256 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/styles.css
2025-10-21 20:57:54.264 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/auth.js
2025-10-21 20:57:54.264 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/config.js
2025-10-21 20:57:54.264 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/logo-gym.png
2025-10-21 20:57:54.265 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:57:54.265 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:57:54.265 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:57:54.265 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/config.js
2025-10-21 20:57:54.265 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/logo-gym.png
2025-10-21 20:57:54.265 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/auth.js
2025-10-21 20:57:54.266 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/cart.js
2025-10-21 20:57:54.267 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/utils.js
2025-10-21 20:57:54.267 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:57:54.267 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:57:54.267 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/utils.js
2025-10-21 20:57:54.267 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/cart.js
2025-10-21 20:57:54.268 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
2025-10-21 20:57:54.268 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:57:54.268 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
2025-10-21 20:57:55.338 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-10-21 20:57:55.338 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:57:55.338 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /favicon.ico
2025-10-21 20:57:55.341 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 20:57:55.342 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 20:57:55.385 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:58:02.010 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 20:58:02.014 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:58:02.015 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 20:58:02.089 [http-nio-8080-exec-6] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: applegym@admin.com
2025-10-21 20:58:02.413 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 20:58:02.688 [http-nio-8080-exec-6] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-10-21 20:58:02.709 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-10-21 20:58:02.711 [http-nio-8080-exec-6] INFO  c.applegym.controller.AuthController - Inicio de sesión exitoso para usuario: applegym@admin.com - Token generado
2025-10-21 20:58:06.970 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 20:58:06.972 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:58:06.972 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 20:58:06.975 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 20:58:06.975 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 20:58:06.977 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:58:39.097 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 20:58:39.097 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:58:39.097 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 20:58:39.099 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 20:58:39.099 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 20:58:40.952 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 20:58:40.952 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:58:40.953 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 20:58:40.954 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 20:58:40.954 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 20:58:41.293 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 20:58:41.294 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:58:41.294 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 20:58:41.295 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 20:58:41.295 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 20:58:41.477 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 20:58:41.478 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:58:41.478 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 20:58:41.479 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 20:58:41.479 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 20:58:41.678 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 20:58:41.678 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:58:41.678 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 20:58:41.679 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 20:58:41.679 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 20:58:41.847 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 20:58:41.847 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:58:41.848 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 20:58:41.849 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 20:58:41.849 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 20:58:43.540 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 20:58:43.540 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:58:43.541 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 20:58:43.542 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 20:58:43.542 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 20:58:43.545 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:59:14.058 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 20:59:14.059 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:59:14.059 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 20:59:14.061 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 20:59:14.061 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 20:59:14.063 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:59:37.013 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 20:59:37.014 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:59:37.015 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 20:59:37.015 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 20:59:37.016 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 20:59:37.034 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 20:59:37.035 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 20:59:37.035 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 20:59:37.035 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 20:59:37.037 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 20:59:37.038 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:04:06.251 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 21:04:06.251 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:04:06.253 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 21:04:06.254 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 21:04:06.254 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 21:04:06.274 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:04:06.274 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:04:06.275 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:04:06.276 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 21:04:06.276 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 21:04:06.278 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:04:13.900 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 21:04:13.901 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:04:13.901 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 21:04:13.903 [http-nio-8080-exec-7] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: applegym@admin.com
2025-10-21 21:04:13.906 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:04:14.198 [http-nio-8080-exec-7] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-10-21 21:04:14.208 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-10-21 21:04:14.211 [http-nio-8080-exec-7] INFO  c.applegym.controller.AuthController - Inicio de sesión exitoso para usuario: applegym@admin.com - Token generado
2025-10-21 21:04:47.332 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:04:47.333 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:04:47.334 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:04:47.335 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 21:04:47.335 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 21:04:47.337 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:05:07.589 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 21:05:07.590 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:05:07.590 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 21:05:07.591 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 21:05:07.591 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 21:05:07.612 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:05:07.612 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:05:07.612 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:05:07.614 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 21:05:07.614 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 21:05:07.616 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:05:38.504 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 21:05:38.505 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:05:38.505 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 21:05:38.506 [http-nio-8080-exec-6] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: applegym@admin.com
2025-10-21 21:05:38.509 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:05:38.796 [http-nio-8080-exec-6] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-10-21 21:05:38.800 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-10-21 21:05:38.803 [http-nio-8080-exec-6] INFO  c.applegym.controller.AuthController - Inicio de sesión exitoso para usuario: applegym@admin.com - Token generado
2025-10-21 21:05:49.771 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 21:05:49.772 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:05:49.772 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 21:05:49.773 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 21:05:49.773 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 21:05:49.793 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:05:49.794 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:05:49.794 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:05:49.796 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 21:05:49.796 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 21:05:49.798 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:05:55.696 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 21:05:55.697 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:05:55.697 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 21:05:55.699 [http-nio-8080-exec-8] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: applegym@admin.com
2025-10-21 21:05:55.702 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:05:56.007 [http-nio-8080-exec-8] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to find user 'applegym@admin.com'
2025-10-21 21:05:56.007 [http-nio-8080-exec-8] WARN  c.applegym.controller.AuthController - Fallo en autenticación para usuario: applegym@admin.com
2025-10-21 21:06:04.152 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 21:06:04.153 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:06:04.153 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 21:06:04.154 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 21:06:04.155 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 21:06:04.176 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:06:04.177 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:06:04.177 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:06:04.178 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 21:06:04.179 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 21:06:04.180 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:06:23.840 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 21:06:23.840 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:06:23.840 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 21:06:23.841 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 21:06:23.842 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 21:06:23.895 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/styles.css
2025-10-21 21:06:23.896 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:06:23.896 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/styles.css
2025-10-21 21:06:23.900 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/config.js
2025-10-21 21:06:23.900 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/logo-gym.png
2025-10-21 21:06:23.900 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:06:23.900 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:06:23.900 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/logo-gym.png
2025-10-21 21:06:23.900 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/config.js
2025-10-21 21:06:23.902 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/cart.js
2025-10-21 21:06:23.902 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/auth.js
2025-10-21 21:06:23.902 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/utils.js
2025-10-21 21:06:23.903 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:06:23.903 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:06:23.903 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:06:23.903 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/cart.js
2025-10-21 21:06:23.903 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/auth.js
2025-10-21 21:06:23.903 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/utils.js
2025-10-21 21:06:23.905 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
2025-10-21 21:06:23.905 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:06:23.905 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
2025-10-21 21:06:39.987 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2025-10-21 21:06:39.987 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:06:39.987 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2025-10-21 21:06:39.996 [http-nio-8080-exec-8] INFO  c.applegym.controller.AuthController - Intento de registro para cliente con email: applegym@admin.com
2025-10-21 21:06:40.000 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    limit
        ?
2025-10-21 21:06:40.002 [http-nio-8080-exec-8] WARN  c.a.service.impl.ClienteServiceImpl - Contraseña débil detectada - se recomienda incluir mayúsculas, minúsculas y números
2025-10-21 21:06:40.002 [http-nio-8080-exec-8] INFO  c.a.service.impl.ClienteServiceImpl - Iniciando registro de cliente con email: applegym@admin.com
2025-10-21 21:06:40.003 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    limit
        ?
2025-10-21 21:06:40.333 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.Cliente */insert 
    into
        cliente (activo, direccion, email, fecha_actualizacion, fecha_registro, nombre_cliente, password, rol, telefono) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-21 21:06:40.345 [http-nio-8080-exec-8] INFO  c.a.service.impl.ClienteServiceImpl - Cliente registrado exitosamente con ID: 12
2025-10-21 21:06:40.356 [http-nio-8080-exec-8] INFO  c.applegym.controller.AuthController - Cliente registrado exitosamente con ID: 12
2025-10-21 21:06:44.279 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:06:44.279 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:06:44.279 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:06:44.281 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 21:06:44.281 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 21:06:44.283 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:07:13.979 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 21:07:13.980 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:07:13.980 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 21:07:13.981 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 21:07:13.981 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 21:07:14.001 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:07:14.001 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:07:14.001 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:07:14.003 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 21:07:14.003 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 21:07:14.004 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:07:24.321 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 21:07:24.324 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-21 21:07:24.330 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-21 21:07:31.196 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-10-21 21:07:31.259 [main] INFO  com.applegym.AppleGymApplication - Starting AppleGymApplication using Java 22.0.1 with PID 24592 (D:\ATAHUALPA\AppleGym\target\classes started by Usuario in D:\ATAHUALPA\AppleGym)
2025-10-21 21:07:31.260 [main] INFO  com.applegym.AppleGymApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-21 21:07:31.771 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-21 21:07:31.847 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 70 ms. Found 8 JPA repository interfaces.
2025-10-21 21:07:32.272 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-21 21:07:32.279 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-10-21 21:07:32.281 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-21 21:07:32.282 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-21 21:07:32.354 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-21 21:07:32.355 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1064 ms
2025-10-21 21:07:32.457 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-21 21:07:32.497 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-21 21:07:32.520 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-21 21:07:32.695 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-21 21:07:32.716 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 21:07:32.834 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@a03529c
2025-10-21 21:07:32.835 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-21 21:07:33.689 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-21 21:07:33.790 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 21:07:34.035 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-21 21:07:35.097 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@588b9a5f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@313c05b9, org.springframework.security.web.context.SecurityContextHolderFilter@53508d4b, org.springframework.security.web.header.HeaderWriterFilter@514b8ddc, org.springframework.web.filter.CorsFilter@29dbf03f, org.springframework.security.web.authentication.logout.LogoutFilter@402e4e9b, com.applegym.security.JwtAuthenticationFilter@322b500a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@fdc3b84, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@19eb658, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7903007c, org.springframework.security.web.session.SessionManagementFilter@e36bbb9, org.springframework.security.web.access.ExceptionTranslationFilter@14075727, org.springframework.security.web.access.intercept.AuthorizationFilter@104f223d]
2025-10-21 21:07:35.139 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-10-21 21:07:35.457 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-10-21 21:07:35.473 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-10-21 21:07:35.478 [main] INFO  com.applegym.AppleGymApplication - Started AppleGymApplication in 4.644 seconds (process running for 4.984)
2025-10-21 21:07:52.793 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-21 21:07:52.793 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-21 21:07:52.795 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-10-21 21:07:52.797 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 21:07:52.807 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:07:52.808 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 21:07:52.833 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 21:07:52.833 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 21:07:52.864 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/styles.css
2025-10-21 21:07:52.865 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:07:52.865 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/styles.css
2025-10-21 21:07:52.870 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/auth.js
2025-10-21 21:07:52.870 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/logo-gym.png
2025-10-21 21:07:52.870 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/config.js
2025-10-21 21:07:52.871 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:07:52.871 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:07:52.871 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:07:52.871 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/logo-gym.png
2025-10-21 21:07:52.871 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/auth.js
2025-10-21 21:07:52.871 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/config.js
2025-10-21 21:07:52.872 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/cart.js
2025-10-21 21:07:52.873 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/utils.js
2025-10-21 21:07:52.873 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:07:52.873 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:07:52.873 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/utils.js
2025-10-21 21:07:52.873 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/cart.js
2025-10-21 21:07:52.878 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
2025-10-21 21:07:52.878 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:07:52.878 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
2025-10-21 21:07:54.504 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-10-21 21:07:54.504 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:07:54.505 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /favicon.ico
2025-10-21 21:07:54.507 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 21:07:54.508 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 21:07:54.554 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:07:55.261 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:07:55.261 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:07:55.262 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:07:55.263 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 21:07:55.263 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 21:07:55.265 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:08:08.553 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 21:08:08.557 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:08:08.557 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 21:08:08.640 [http-nio-8080-exec-4] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: applegym@admin.com
2025-10-21 21:08:08.973 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:08:09.250 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-10-21 21:08:09.268 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-10-21 21:08:09.271 [http-nio-8080-exec-4] INFO  c.applegym.controller.AuthController - Inicio de sesión exitoso para usuario: applegym@admin.com - Token generado
2025-10-21 21:12:04.596 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 21:12:04.596 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-21 21:12:04.596 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-21 21:12:38.184 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-10-21 21:12:38.249 [main] INFO  com.applegym.AppleGymApplication - Starting AppleGymApplication using Java 22.0.1 with PID 2420 (D:\ATAHUALPA\AppleGym\target\classes started by Usuario in D:\ATAHUALPA\AppleGym)
2025-10-21 21:12:38.250 [main] INFO  com.applegym.AppleGymApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-21 21:12:38.766 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-21 21:12:38.842 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 70 ms. Found 8 JPA repository interfaces.
2025-10-21 21:12:39.270 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-21 21:12:39.278 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-10-21 21:12:39.280 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-21 21:12:39.281 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-21 21:12:39.352 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-21 21:12:39.353 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1073 ms
2025-10-21 21:12:39.453 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-21 21:12:39.491 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-21 21:12:39.520 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-21 21:12:39.692 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-21 21:12:39.712 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 21:12:39.836 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@14590fe2
2025-10-21 21:12:39.837 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-21 21:12:40.696 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-21 21:12:40.811 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 21:12:41.060 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-21 21:12:42.174 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@187b16de, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4461c22, org.springframework.security.web.context.SecurityContextHolderFilter@75c99797, org.springframework.security.web.header.HeaderWriterFilter@444050a7, org.springframework.web.filter.CorsFilter@5f83000c, org.springframework.security.web.authentication.logout.LogoutFilter@1737d824, com.applegym.security.JwtAuthenticationFilter@ab118b8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@402af74, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@fff6f48, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7498d9b9, org.springframework.security.web.session.SessionManagementFilter@7630e516, org.springframework.security.web.access.ExceptionTranslationFilter@45a2d27c, org.springframework.security.web.access.intercept.AuthorizationFilter@23a7f0db]
2025-10-21 21:12:42.216 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-10-21 21:12:42.530 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-10-21 21:12:42.550 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-10-21 21:12:42.555 [main] INFO  com.applegym.AppleGymApplication - Started AppleGymApplication in 4.741 seconds (process running for 5.075)
2025-10-21 21:12:53.459 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-21 21:12:53.459 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-21 21:12:53.460 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-10-21 21:12:53.467 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 21:12:53.474 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:12:53.475 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 21:12:53.502 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 21:12:53.503 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 21:12:53.534 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/styles.css
2025-10-21 21:12:53.535 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:12:53.535 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/styles.css
2025-10-21 21:12:53.540 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/logo-gym.png
2025-10-21 21:12:53.540 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/config.js
2025-10-21 21:12:53.540 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/auth.js
2025-10-21 21:12:53.540 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:12:53.540 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:12:53.540 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:12:53.541 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/config.js
2025-10-21 21:12:53.541 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/logo-gym.png
2025-10-21 21:12:53.541 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/auth.js
2025-10-21 21:12:53.542 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/utils.js
2025-10-21 21:12:53.542 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/cart.js
2025-10-21 21:12:53.542 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:12:53.542 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:12:53.542 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/utils.js
2025-10-21 21:12:53.543 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/cart.js
2025-10-21 21:12:53.548 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
2025-10-21 21:12:53.548 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:12:53.548 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
2025-10-21 21:12:55.358 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-10-21 21:12:55.359 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:12:55.359 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /favicon.ico
2025-10-21 21:12:55.362 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 21:12:55.363 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 21:12:55.406 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:02.993 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 21:13:02.996 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:02.996 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 21:13:03.082 [http-nio-8080-exec-7] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: applegym@admin.com
2025-10-21 21:13:03.468 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:13:03.790 [http-nio-8080-exec-7] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-10-21 21:13:03.824 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-10-21 21:13:03.827 [http-nio-8080-exec-7] INFO  c.applegym.controller.AuthController - Inicio de sesión exitoso para usuario: applegym@admin.com - Token generado
2025-10-21 21:13:03.839 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin-dashboard.html
2025-10-21 21:13:03.840 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:03.840 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin-dashboard.html
2025-10-21 21:13:03.863 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-10-21 21:13:03.863 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:03.863 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-10-21 21:13:06.943 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 21:13:06.943 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:06.944 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 21:13:16.467 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 21:13:16.468 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:16.469 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 21:13:16.470 [http-nio-8080-exec-5] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: applegym@admin.com
2025-10-21 21:13:16.472 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:13:16.776 [http-nio-8080-exec-5] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-10-21 21:13:16.780 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-10-21 21:13:16.782 [http-nio-8080-exec-5] INFO  c.applegym.controller.AuthController - Inicio de sesión exitoso para usuario: applegym@admin.com - Token generado
2025-10-21 21:13:31.905 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:13:31.906 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:31.906 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:13:31.907 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 21:13:31.908 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 21:13:31.910 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:39.756 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 21:13:39.756 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:39.756 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 21:13:39.757 [http-nio-8080-exec-3] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: applegym@admin.com
2025-10-21 21:13:39.760 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:13:40.052 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-10-21 21:13:40.055 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-10-21 21:13:40.057 [http-nio-8080-exec-3] INFO  c.applegym.controller.AuthController - Inicio de sesión exitoso para usuario: applegym@admin.com - Token generado
2025-10-21 21:13:40.089 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:13:40.089 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:40.090 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:13:40.091 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 21:13:40.092 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 21:13:40.094 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:43.738 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:13:43.739 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:43.740 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:13:43.741 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 21:13:43.741 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 21:13:43.743 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:43.808 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:13:43.809 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:43.809 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:13:43.813 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 21:13:43.818 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 21:13:43.821 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:46.468 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:13:46.468 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:46.469 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:13:46.470 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 21:13:46.470 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 21:13:46.471 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:46.475 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:13:46.477 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:46.479 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:13:46.481 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 21:13:46.481 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 21:13:46.483 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:46.488 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:13:46.488 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:46.489 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:13:46.490 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 21:13:46.490 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 21:13:46.491 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:46.494 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:13:46.494 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:46.494 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:13:46.495 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 21:13:46.495 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 21:13:46.496 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:47.295 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:13:47.296 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:47.296 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:13:47.297 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 21:13:47.297 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 21:13:47.300 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:47.336 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:13:47.337 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:47.337 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:13:47.339 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 21:13:47.339 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 21:13:47.341 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:48.124 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:13:48.124 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:48.125 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:13:48.128 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 21:13:48.131 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 21:13:48.135 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:48.161 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:13:48.162 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:48.162 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:13:48.163 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 21:13:48.164 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 21:13:48.167 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:49.407 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:13:49.408 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:49.408 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:13:49.409 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 21:13:49.410 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 21:13:49.411 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:49.447 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:13:49.450 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:13:49.453 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-10-21 21:13:49.456 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 21:13:49.456 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 21:13:49.458 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:14:51.734 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 21:14:51.736 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-21 21:14:51.744 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-21 21:17:15.911 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-10-21 21:17:15.980 [main] INFO  com.applegym.AppleGymApplication - Starting AppleGymApplication using Java 22.0.1 with PID 26392 (D:\ATAHUALPA\AppleGym\target\classes started by Usuario in D:\ATAHUALPA\AppleGym)
2025-10-21 21:17:15.981 [main] INFO  com.applegym.AppleGymApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-21 21:17:16.526 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-21 21:17:16.615 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 81 ms. Found 8 JPA repository interfaces.
2025-10-21 21:17:17.060 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-21 21:17:17.068 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-10-21 21:17:17.070 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-21 21:17:17.070 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-21 21:17:17.144 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-21 21:17:17.145 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1131 ms
2025-10-21 21:17:17.246 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-21 21:17:17.286 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-21 21:17:17.312 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-21 21:17:17.487 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-21 21:17:17.506 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 21:17:17.626 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@15e5246
2025-10-21 21:17:17.627 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-21 21:17:18.496 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-21 21:17:18.605 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 21:17:18.851 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-21 21:17:20.143 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6cda3fba, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@23a7f0db, org.springframework.security.web.context.SecurityContextHolderFilter@75078835, org.springframework.security.web.header.HeaderWriterFilter@7bd9e2f7, org.springframework.web.filter.CorsFilter@20b22a4, org.springframework.security.web.authentication.logout.LogoutFilter@3ab48325, com.applegym.security.JwtAuthenticationFilter@7a680b69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43687954, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c46e60a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25e1ca37, org.springframework.security.web.session.SessionManagementFilter@500a67c4, org.springframework.security.web.access.ExceptionTranslationFilter@540c96e2, org.springframework.security.web.access.intercept.AuthorizationFilter@5a32a00a]
2025-10-21 21:17:20.188 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-10-21 21:17:20.496 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-10-21 21:17:20.521 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-10-21 21:17:20.526 [main] INFO  com.applegym.AppleGymApplication - Started AppleGymApplication in 4.981 seconds (process running for 5.302)
2025-10-21 21:17:32.073 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-21 21:17:32.075 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-21 21:17:32.077 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-10-21 21:17:32.085 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 21:17:32.091 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:17:32.093 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 21:17:32.120 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 21:17:32.121 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 21:17:32.154 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/styles.css
2025-10-21 21:17:32.155 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:17:32.155 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/styles.css
2025-10-21 21:17:32.162 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/auth.js
2025-10-21 21:17:32.162 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/config.js
2025-10-21 21:17:32.162 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/logo-gym.png
2025-10-21 21:17:32.163 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:17:32.163 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:17:32.163 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:17:32.163 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/config.js
2025-10-21 21:17:32.163 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/logo-gym.png
2025-10-21 21:17:32.163 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/auth.js
2025-10-21 21:17:32.165 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/cart.js
2025-10-21 21:17:32.165 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/utils.js
2025-10-21 21:17:32.165 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:17:32.165 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:17:32.165 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/cart.js
2025-10-21 21:17:32.166 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/utils.js
2025-10-21 21:17:32.169 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
2025-10-21 21:17:32.170 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:17:32.170 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
2025-10-21 21:17:32.777 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-10-21 21:17:32.777 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:17:32.777 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /favicon.ico
2025-10-21 21:17:32.781 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 21:17:32.781 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 21:17:32.820 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:17:38.627 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 21:17:38.628 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:17:38.628 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 21:17:38.629 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 21:17:38.630 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 21:17:56.505 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2025-10-21 21:17:56.509 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:17:56.509 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2025-10-21 21:17:56.605 [http-nio-8080-exec-1] INFO  c.applegym.controller.AuthController - Intento de registro para cliente con email: applegym@admin.com
2025-10-21 21:17:56.672 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    limit
        ?
2025-10-21 21:17:56.680 [http-nio-8080-exec-1] WARN  c.a.service.impl.ClienteServiceImpl - Contraseña débil detectada - se recomienda incluir mayúsculas, minúsculas y números
2025-10-21 21:17:56.681 [http-nio-8080-exec-1] INFO  c.a.service.impl.ClienteServiceImpl - Iniciando registro de cliente con email: applegym@admin.com
2025-10-21 21:17:56.682 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente 
    from
        cliente c1_0 
    where
        c1_0.email=? 
    limit
        ?
2025-10-21 21:17:57.067 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.Cliente */insert 
    into
        cliente (activo, direccion, email, fecha_actualizacion, fecha_registro, nombre_cliente, password, rol, telefono) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-21 21:17:57.081 [http-nio-8080-exec-1] INFO  c.a.service.impl.ClienteServiceImpl - Cliente registrado exitosamente con ID: 13
2025-10-21 21:17:57.094 [http-nio-8080-exec-1] INFO  c.applegym.controller.AuthController - Cliente registrado exitosamente con ID: 13
2025-10-21 21:18:00.799 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 21:18:00.801 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-21 21:18:00.812 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-21 21:18:54.774 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-10-21 21:18:54.834 [main] INFO  com.applegym.AppleGymApplication - Starting AppleGymApplication using Java 22.0.1 with PID 23656 (D:\ATAHUALPA\AppleGym\target\classes started by Usuario in D:\ATAHUALPA\AppleGym)
2025-10-21 21:18:54.836 [main] INFO  com.applegym.AppleGymApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-21 21:18:55.358 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-21 21:18:55.433 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 68 ms. Found 8 JPA repository interfaces.
2025-10-21 21:18:55.854 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-21 21:18:55.860 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-10-21 21:18:55.862 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-21 21:18:55.862 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-21 21:18:55.933 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-21 21:18:55.934 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1066 ms
2025-10-21 21:18:56.038 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-21 21:18:56.076 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-21 21:18:56.096 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-21 21:18:56.274 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-21 21:18:56.295 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 21:18:56.416 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@146f3d22
2025-10-21 21:18:56.419 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-21 21:18:57.292 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-21 21:18:57.411 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 21:18:57.664 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-21 21:18:58.768 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7903007c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d5e2461, org.springframework.security.web.context.SecurityContextHolderFilter@19eb658, org.springframework.security.web.header.HeaderWriterFilter@4cfe2c78, org.springframework.web.filter.CorsFilter@2c1ee7be, org.springframework.security.web.authentication.logout.LogoutFilter@43c58698, com.applegym.security.JwtAuthenticationFilter@1f978bb1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e647b97, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@500a67c4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5a32a00a, org.springframework.security.web.session.SessionManagementFilter@53508d4b, org.springframework.security.web.access.ExceptionTranslationFilter@48d4189e, org.springframework.security.web.access.intercept.AuthorizationFilter@588b9a5f]
2025-10-21 21:18:58.804 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-10-21 21:18:59.120 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-10-21 21:18:59.135 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-10-21 21:18:59.140 [main] INFO  com.applegym.AppleGymApplication - Started AppleGymApplication in 4.762 seconds (process running for 5.081)
2025-10-21 21:19:08.709 [http-nio-8080-exec-3] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-21 21:19:08.710 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-21 21:19:08.712 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-10-21 21:19:08.720 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-10-21 21:19:08.728 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:19:08.729 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /favicon.ico
2025-10-21 21:19:08.747 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 21:19:08.748 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 21:19:08.809 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:19:22.869 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 21:19:22.870 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:19:22.871 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 21:19:22.883 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 21:19:22.884 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 21:19:22.905 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/styles.css
2025-10-21 21:19:22.906 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:19:22.907 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/styles.css
2025-10-21 21:19:22.912 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/logo-gym.png
2025-10-21 21:19:22.912 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/config.js
2025-10-21 21:19:22.912 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/auth.js
2025-10-21 21:19:22.912 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:19:22.912 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:19:22.913 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:19:22.913 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/logo-gym.png
2025-10-21 21:19:22.913 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/config.js
2025-10-21 21:19:22.913 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/auth.js
2025-10-21 21:19:22.914 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/utils.js
2025-10-21 21:19:22.914 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/cart.js
2025-10-21 21:19:22.914 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:19:22.914 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:19:22.914 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/utils.js
2025-10-21 21:19:22.914 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/cart.js
2025-10-21 21:19:22.920 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
2025-10-21 21:19:22.921 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:19:22.921 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
2025-10-21 21:19:26.487 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-10-21 21:19:26.488 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:19:26.488 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /favicon.ico
2025-10-21 21:19:26.489 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 21:19:26.490 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 21:19:26.492 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:19:33.606 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 21:19:33.611 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:19:33.611 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 21:19:33.679 [http-nio-8080-exec-2] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: applegym@admin.com
2025-10-21 21:19:34.018 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:19:34.309 [http-nio-8080-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-10-21 21:19:34.331 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-10-21 21:19:34.334 [http-nio-8080-exec-2] INFO  c.applegym.controller.AuthController - Inicio de sesión exitoso para usuario: applegym@admin.com - Token generado
2025-10-21 21:19:34.345 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin-dashboard.html
2025-10-21 21:19:34.346 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:19:34.346 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin-dashboard.html
2025-10-21 21:19:34.369 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-10-21 21:19:34.370 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:19:34.370 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-10-21 21:19:38.258 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 21:19:38.258 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:19:38.259 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 21:23:16.906 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 21:23:16.909 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-21 21:23:16.915 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-21 21:23:31.460 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-10-21 21:23:31.530 [main] INFO  com.applegym.AppleGymApplication - Starting AppleGymApplication using Java 22.0.1 with PID 2456 (D:\ATAHUALPA\AppleGym\target\classes started by Usuario in D:\ATAHUALPA\AppleGym)
2025-10-21 21:23:31.531 [main] INFO  com.applegym.AppleGymApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-21 21:23:32.057 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-21 21:23:32.144 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 80 ms. Found 8 JPA repository interfaces.
2025-10-21 21:23:32.580 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-21 21:23:32.588 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-10-21 21:23:32.590 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-21 21:23:32.591 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-21 21:23:32.656 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-21 21:23:32.657 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1093 ms
2025-10-21 21:23:32.769 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-21 21:23:32.807 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-21 21:23:32.833 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-21 21:23:33.014 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-21 21:23:33.037 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-21 21:23:33.163 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@60f9dc7e
2025-10-21 21:23:33.163 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-21 21:23:34.038 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-21 21:23:34.141 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 21:23:34.386 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-21 21:23:35.475 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@37a20de7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6cda3fba, org.springframework.security.web.context.SecurityContextHolderFilter@68a2ee75, org.springframework.security.web.header.HeaderWriterFilter@26426de8, org.springframework.web.filter.CorsFilter@23a7f0db, org.springframework.security.web.authentication.logout.LogoutFilter@1de68599, com.applegym.security.JwtAuthenticationFilter@15364d8b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7630e516, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@43687954, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@20b22a4, org.springframework.security.web.session.SessionManagementFilter@3e647b97, org.springframework.security.web.access.ExceptionTranslationFilter@692cea53, org.springframework.security.web.access.intercept.AuthorizationFilter@2c1ee7be]
2025-10-21 21:23:35.513 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-10-21 21:23:35.820 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-10-21 21:23:35.836 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-10-21 21:23:35.840 [main] INFO  com.applegym.AppleGymApplication - Started AppleGymApplication in 4.749 seconds (process running for 5.075)
2025-10-21 21:23:43.571 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-21 21:23:43.571 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-21 21:23:43.571 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-10-21 21:23:43.581 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 21:23:43.588 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:23:43.589 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 21:23:43.613 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 21:23:43.613 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 21:23:43.646 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/styles.css
2025-10-21 21:23:43.646 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:23:43.646 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/styles.css
2025-10-21 21:23:43.651 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/config.js
2025-10-21 21:23:43.652 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:23:43.652 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/config.js
2025-10-21 21:23:43.659 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/auth.js
2025-10-21 21:23:43.659 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/logo-gym.png
2025-10-21 21:23:43.660 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:23:43.660 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:23:43.660 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/auth.js
2025-10-21 21:23:43.660 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/logo-gym.png
2025-10-21 21:23:43.668 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/cart.js
2025-10-21 21:23:43.668 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/utils.js
2025-10-21 21:23:43.669 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:23:43.669 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:23:43.669 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/cart.js
2025-10-21 21:23:43.669 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/utils.js
2025-10-21 21:23:43.678 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
2025-10-21 21:23:43.679 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:23:43.679 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
2025-10-21 21:23:45.870 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-10-21 21:23:45.870 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:23:45.870 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /favicon.ico
2025-10-21 21:23:45.870 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-10-21 21:23:45.870 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-10-21 21:23:45.919 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:23:51.822 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 21:23:51.826 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:23:51.827 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 21:23:51.916 [http-nio-8080-exec-1] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: applegym@admin.com
2025-10-21 21:23:52.290 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:23:52.628 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-10-21 21:23:52.652 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-10-21 21:23:52.654 [http-nio-8080-exec-1] INFO  c.applegym.controller.AuthController - Inicio de sesión exitoso para usuario: applegym@admin.com - Token generado
2025-10-21 21:23:52.669 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin-dashboard.html
2025-10-21 21:23:52.669 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:23:52.670 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin-dashboard.html
2025-10-21 21:23:52.691 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-10-21 21:23:52.692 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:23:52.692 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-10-21 21:23:52.820 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reportes/resumen
2025-10-21 21:23:52.848 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:23:52.851 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reportes/resumen
2025-10-21 21:23:52.862 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        COALESCE(SUM(v.total), 0) 
    FROM
        Venta v 
    WHERE
        v.estado IN ('COMPLETADO', 'PAGADO') */ select
            coalesce(sum(v1_0.total), 0) 
        from
            venta v1_0 
        where
            v1_0.estado in ('COMPLETADO', 'PAGADO')
2025-10-21 21:23:52.874 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* select
        count(*) 
    from
        Venta x */ select
            count(*) 
        from
            venta v1_0
2025-10-21 21:23:52.876 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(c1_0.id_cliente) 
    from
        cliente c1_0 
    where
        c1_0.activo=?
2025-10-21 21:23:52.878 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(p1_0.id_producto) 
    from
        producto p1_0 
    where
        p1_0.activo=?
2025-10-21 21:23:52.882 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(s1_0.id_servicio) 
    from
        servicio s1_0 
    where
        s1_0.activo=?
2025-10-21 21:23:52.888 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        COALESCE(SUM(v.total), 0) 
    FROM
        Venta v 
    WHERE
        v.fechaVenta BETWEEN :inicio AND :fin 
        AND v.estado IN ('COMPLETADO', 'PAGADO') */ select
            coalesce(sum(v1_0.total), 0) 
        from
            venta v1_0 
        where
            v1_0.fecha_venta between ? and ? 
            and v1_0.estado in ('COMPLETADO', 'PAGADO')
2025-10-21 21:23:52.893 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        COALESCE(SUM(v.total), 0) 
    FROM
        Venta v 
    WHERE
        v.fechaVenta BETWEEN :inicio AND :fin 
        AND v.estado IN ('COMPLETADO', 'PAGADO') */ select
            coalesce(sum(v1_0.total), 0) 
        from
            venta v1_0 
        where
            v1_0.fecha_venta between ? and ? 
            and v1_0.estado in ('COMPLETADO', 'PAGADO')
2025-10-21 21:23:52.895 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        COALESCE(SUM(v.total), 0) 
    FROM
        Venta v 
    WHERE
        v.fechaVenta BETWEEN :inicio AND :fin 
        AND v.estado IN ('COMPLETADO', 'PAGADO') */ select
            coalesce(sum(v1_0.total), 0) 
        from
            venta v1_0 
        where
            v1_0.fecha_venta between ? and ? 
            and v1_0.estado in ('COMPLETADO', 'PAGADO')
2025-10-21 21:23:52.898 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        MAX(v.fechaVenta) 
    FROM
        Venta v */ select
            max(v1_0.fecha_venta) 
        from
            venta v1_0
2025-10-21 21:23:52.898 [http-nio-8080-exec-5] INFO  c.a.service.impl.ReporteServiceImpl - Resumen generado - Ventas totales: 1064.82, Total ventas: 19
2025-10-21 21:23:52.922 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reportes/ventas-por-fecha?fechaInicio=2025-09-21&fechaFin=2025-10-21
2025-10-21 21:23:52.927 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:23:52.930 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reportes/ventas-por-fecha?fechaInicio=2025-09-21&fechaFin=2025-10-21
2025-10-21 21:23:52.940 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        CAST(v.fechaVenta AS date),
        COUNT(v),
        SUM(v.total) 
    FROM
        Venta v 
    WHERE
        v.fechaVenta BETWEEN :inicio AND :fin 
        AND v.estado IN ('COMPLETADO', 'PAGADO') 
    GROUP BY
        CAST(v.fechaVenta AS date) 
    ORDER BY
        CAST(v.fechaVenta AS date) */ select
            cast(v1_0.fecha_venta as date),
            count(v1_0.id_venta),
            sum(v1_0.total) 
        from
            venta v1_0 
        where
            v1_0.fecha_venta between ? and ? 
            and v1_0.estado in ('COMPLETADO', 'PAGADO') 
        group by
            cast(v1_0.fecha_venta as date) 
        order by
            cast(v1_0.fecha_venta as date)
2025-10-21 21:23:52.973 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reportes/productos-top?limit=10
2025-10-21 21:23:52.978 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:23:52.982 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reportes/productos-top?limit=10
2025-10-21 21:23:52.987 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        dv.idProductoServicio,
        dv.nombre,
        SUM(dv.cantidad),
        SUM(dv.subtotal) 
    FROM
        DetalleVenta dv 
    WHERE
        dv.tipo = 'PRODUCTO' 
    GROUP BY
        dv.idProductoServicio,
        dv.nombre 
    ORDER BY
        SUM(dv.cantidad) DESC */ select
            dv1_0.id_producto_servicio,
            dv1_0.nombre,
            sum(dv1_0.cantidad),
            sum(dv1_0.subtotal) 
        from
            detalle_venta dv1_0 
        where
            dv1_0.tipo='PRODUCTO' 
        group by
            dv1_0.id_producto_servicio,
            dv1_0.nombre 
        order by
            sum(dv1_0.cantidad) desc
2025-10-21 21:23:53.006 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reportes/servicios-top?limit=10
2025-10-21 21:23:53.011 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:23:53.014 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reportes/servicios-top?limit=10
2025-10-21 21:23:53.018 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        dv.idProductoServicio,
        dv.nombre,
        SUM(dv.cantidad),
        SUM(dv.subtotal) 
    FROM
        DetalleVenta dv 
    WHERE
        dv.tipo = 'SERVICIO' 
    GROUP BY
        dv.idProductoServicio,
        dv.nombre 
    ORDER BY
        SUM(dv.cantidad) DESC */ select
            dv1_0.id_producto_servicio,
            dv1_0.nombre,
            sum(dv1_0.cantidad),
            sum(dv1_0.subtotal) 
        from
            detalle_venta dv1_0 
        where
            dv1_0.tipo='SERVICIO' 
        group by
            dv1_0.id_producto_servicio,
            dv1_0.nombre 
        order by
            sum(dv1_0.cantidad) desc
2025-10-21 21:24:29.647 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reportes/resumen
2025-10-21 21:24:29.658 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:24:29.663 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reportes/resumen
2025-10-21 21:24:29.664 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        COALESCE(SUM(v.total), 0) 
    FROM
        Venta v 
    WHERE
        v.estado IN ('COMPLETADO', 'PAGADO') */ select
            coalesce(sum(v1_0.total), 0) 
        from
            venta v1_0 
        where
            v1_0.estado in ('COMPLETADO', 'PAGADO')
2025-10-21 21:24:29.664 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* select
        count(*) 
    from
        Venta x */ select
            count(*) 
        from
            venta v1_0
2025-10-21 21:24:29.664 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(c1_0.id_cliente) 
    from
        cliente c1_0 
    where
        c1_0.activo=?
2025-10-21 21:24:29.664 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(p1_0.id_producto) 
    from
        producto p1_0 
    where
        p1_0.activo=?
2025-10-21 21:24:29.664 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(s1_0.id_servicio) 
    from
        servicio s1_0 
    where
        s1_0.activo=?
2025-10-21 21:24:29.664 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        COALESCE(SUM(v.total), 0) 
    FROM
        Venta v 
    WHERE
        v.fechaVenta BETWEEN :inicio AND :fin 
        AND v.estado IN ('COMPLETADO', 'PAGADO') */ select
            coalesce(sum(v1_0.total), 0) 
        from
            venta v1_0 
        where
            v1_0.fecha_venta between ? and ? 
            and v1_0.estado in ('COMPLETADO', 'PAGADO')
2025-10-21 21:24:29.664 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        COALESCE(SUM(v.total), 0) 
    FROM
        Venta v 
    WHERE
        v.fechaVenta BETWEEN :inicio AND :fin 
        AND v.estado IN ('COMPLETADO', 'PAGADO') */ select
            coalesce(sum(v1_0.total), 0) 
        from
            venta v1_0 
        where
            v1_0.fecha_venta between ? and ? 
            and v1_0.estado in ('COMPLETADO', 'PAGADO')
2025-10-21 21:24:29.664 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        COALESCE(SUM(v.total), 0) 
    FROM
        Venta v 
    WHERE
        v.fechaVenta BETWEEN :inicio AND :fin 
        AND v.estado IN ('COMPLETADO', 'PAGADO') */ select
            coalesce(sum(v1_0.total), 0) 
        from
            venta v1_0 
        where
            v1_0.fecha_venta between ? and ? 
            and v1_0.estado in ('COMPLETADO', 'PAGADO')
2025-10-21 21:24:29.664 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        MAX(v.fechaVenta) 
    FROM
        Venta v */ select
            max(v1_0.fecha_venta) 
        from
            venta v1_0
2025-10-21 21:24:29.664 [http-nio-8080-exec-2] INFO  c.a.service.impl.ReporteServiceImpl - Resumen generado - Ventas totales: 1064.82, Total ventas: 19
2025-10-21 21:24:29.681 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reportes/ventas-por-fecha?fechaInicio=2025-09-21&fechaFin=2025-10-21
2025-10-21 21:24:29.681 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:24:29.697 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reportes/ventas-por-fecha?fechaInicio=2025-09-21&fechaFin=2025-10-21
2025-10-21 21:24:29.698 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        CAST(v.fechaVenta AS date),
        COUNT(v),
        SUM(v.total) 
    FROM
        Venta v 
    WHERE
        v.fechaVenta BETWEEN :inicio AND :fin 
        AND v.estado IN ('COMPLETADO', 'PAGADO') 
    GROUP BY
        CAST(v.fechaVenta AS date) 
    ORDER BY
        CAST(v.fechaVenta AS date) */ select
            cast(v1_0.fecha_venta as date),
            count(v1_0.id_venta),
            sum(v1_0.total) 
        from
            venta v1_0 
        where
            v1_0.fecha_venta between ? and ? 
            and v1_0.estado in ('COMPLETADO', 'PAGADO') 
        group by
            cast(v1_0.fecha_venta as date) 
        order by
            cast(v1_0.fecha_venta as date)
2025-10-21 21:24:29.698 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reportes/productos-top?limit=10
2025-10-21 21:24:29.714 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:24:29.717 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reportes/productos-top?limit=10
2025-10-21 21:24:29.719 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        dv.idProductoServicio,
        dv.nombre,
        SUM(dv.cantidad),
        SUM(dv.subtotal) 
    FROM
        DetalleVenta dv 
    WHERE
        dv.tipo = 'PRODUCTO' 
    GROUP BY
        dv.idProductoServicio,
        dv.nombre 
    ORDER BY
        SUM(dv.cantidad) DESC */ select
            dv1_0.id_producto_servicio,
            dv1_0.nombre,
            sum(dv1_0.cantidad),
            sum(dv1_0.subtotal) 
        from
            detalle_venta dv1_0 
        where
            dv1_0.tipo='PRODUCTO' 
        group by
            dv1_0.id_producto_servicio,
            dv1_0.nombre 
        order by
            sum(dv1_0.cantidad) desc
2025-10-21 21:24:29.727 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reportes/servicios-top?limit=10
2025-10-21 21:24:29.732 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:24:29.734 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reportes/servicios-top?limit=10
2025-10-21 21:24:29.736 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        dv.idProductoServicio,
        dv.nombre,
        SUM(dv.cantidad),
        SUM(dv.subtotal) 
    FROM
        DetalleVenta dv 
    WHERE
        dv.tipo = 'SERVICIO' 
    GROUP BY
        dv.idProductoServicio,
        dv.nombre 
    ORDER BY
        SUM(dv.cantidad) DESC */ select
            dv1_0.id_producto_servicio,
            dv1_0.nombre,
            sum(dv1_0.cantidad),
            sum(dv1_0.subtotal) 
        from
            detalle_venta dv1_0 
        where
            dv1_0.tipo='SERVICIO' 
        group by
            dv1_0.id_producto_servicio,
            dv1_0.nombre 
        order by
            sum(dv1_0.cantidad) desc
2025-10-21 21:24:31.391 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reportes/resumen
2025-10-21 21:24:31.397 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:24:31.397 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reportes/resumen
2025-10-21 21:24:31.397 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        COALESCE(SUM(v.total), 0) 
    FROM
        Venta v 
    WHERE
        v.estado IN ('COMPLETADO', 'PAGADO') */ select
            coalesce(sum(v1_0.total), 0) 
        from
            venta v1_0 
        where
            v1_0.estado in ('COMPLETADO', 'PAGADO')
2025-10-21 21:24:31.397 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* select
        count(*) 
    from
        Venta x */ select
            count(*) 
        from
            venta v1_0
2025-10-21 21:24:31.397 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(c1_0.id_cliente) 
    from
        cliente c1_0 
    where
        c1_0.activo=?
2025-10-21 21:24:31.397 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(p1_0.id_producto) 
    from
        producto p1_0 
    where
        p1_0.activo=?
2025-10-21 21:24:31.397 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(s1_0.id_servicio) 
    from
        servicio s1_0 
    where
        s1_0.activo=?
2025-10-21 21:24:31.397 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        COALESCE(SUM(v.total), 0) 
    FROM
        Venta v 
    WHERE
        v.fechaVenta BETWEEN :inicio AND :fin 
        AND v.estado IN ('COMPLETADO', 'PAGADO') */ select
            coalesce(sum(v1_0.total), 0) 
        from
            venta v1_0 
        where
            v1_0.fecha_venta between ? and ? 
            and v1_0.estado in ('COMPLETADO', 'PAGADO')
2025-10-21 21:24:31.397 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        COALESCE(SUM(v.total), 0) 
    FROM
        Venta v 
    WHERE
        v.fechaVenta BETWEEN :inicio AND :fin 
        AND v.estado IN ('COMPLETADO', 'PAGADO') */ select
            coalesce(sum(v1_0.total), 0) 
        from
            venta v1_0 
        where
            v1_0.fecha_venta between ? and ? 
            and v1_0.estado in ('COMPLETADO', 'PAGADO')
2025-10-21 21:24:31.397 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        COALESCE(SUM(v.total), 0) 
    FROM
        Venta v 
    WHERE
        v.fechaVenta BETWEEN :inicio AND :fin 
        AND v.estado IN ('COMPLETADO', 'PAGADO') */ select
            coalesce(sum(v1_0.total), 0) 
        from
            venta v1_0 
        where
            v1_0.fecha_venta between ? and ? 
            and v1_0.estado in ('COMPLETADO', 'PAGADO')
2025-10-21 21:24:31.415 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        MAX(v.fechaVenta) 
    FROM
        Venta v */ select
            max(v1_0.fecha_venta) 
        from
            venta v1_0
2025-10-21 21:24:31.415 [http-nio-8080-exec-5] INFO  c.a.service.impl.ReporteServiceImpl - Resumen generado - Ventas totales: 1064.82, Total ventas: 19
2025-10-21 21:24:31.415 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reportes/ventas-por-fecha?fechaInicio=2025-09-21&fechaFin=2025-10-21
2025-10-21 21:24:31.415 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:24:31.415 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reportes/ventas-por-fecha?fechaInicio=2025-09-21&fechaFin=2025-10-21
2025-10-21 21:24:31.415 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        CAST(v.fechaVenta AS date),
        COUNT(v),
        SUM(v.total) 
    FROM
        Venta v 
    WHERE
        v.fechaVenta BETWEEN :inicio AND :fin 
        AND v.estado IN ('COMPLETADO', 'PAGADO') 
    GROUP BY
        CAST(v.fechaVenta AS date) 
    ORDER BY
        CAST(v.fechaVenta AS date) */ select
            cast(v1_0.fecha_venta as date),
            count(v1_0.id_venta),
            sum(v1_0.total) 
        from
            venta v1_0 
        where
            v1_0.fecha_venta between ? and ? 
            and v1_0.estado in ('COMPLETADO', 'PAGADO') 
        group by
            cast(v1_0.fecha_venta as date) 
        order by
            cast(v1_0.fecha_venta as date)
2025-10-21 21:24:31.437 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reportes/productos-top?limit=10
2025-10-21 21:24:31.440 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:24:31.440 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reportes/productos-top?limit=10
2025-10-21 21:24:31.447 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        dv.idProductoServicio,
        dv.nombre,
        SUM(dv.cantidad),
        SUM(dv.subtotal) 
    FROM
        DetalleVenta dv 
    WHERE
        dv.tipo = 'PRODUCTO' 
    GROUP BY
        dv.idProductoServicio,
        dv.nombre 
    ORDER BY
        SUM(dv.cantidad) DESC */ select
            dv1_0.id_producto_servicio,
            dv1_0.nombre,
            sum(dv1_0.cantidad),
            sum(dv1_0.subtotal) 
        from
            detalle_venta dv1_0 
        where
            dv1_0.tipo='PRODUCTO' 
        group by
            dv1_0.id_producto_servicio,
            dv1_0.nombre 
        order by
            sum(dv1_0.cantidad) desc
2025-10-21 21:24:31.456 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reportes/servicios-top?limit=10
2025-10-21 21:24:31.462 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:24:31.464 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reportes/servicios-top?limit=10
2025-10-21 21:24:31.466 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        dv.idProductoServicio,
        dv.nombre,
        SUM(dv.cantidad),
        SUM(dv.subtotal) 
    FROM
        DetalleVenta dv 
    WHERE
        dv.tipo = 'SERVICIO' 
    GROUP BY
        dv.idProductoServicio,
        dv.nombre 
    ORDER BY
        SUM(dv.cantidad) DESC */ select
            dv1_0.id_producto_servicio,
            dv1_0.nombre,
            sum(dv1_0.cantidad),
            sum(dv1_0.subtotal) 
        from
            detalle_venta dv1_0 
        where
            dv1_0.tipo='SERVICIO' 
        group by
            dv1_0.id_producto_servicio,
            dv1_0.nombre 
        order by
            sum(dv1_0.cantidad) desc
2025-10-21 21:24:40.329 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reportes/export/excel?fechaInicio=2025-09-21&fechaFin=2025-10-21
2025-10-21 21:24:40.335 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:24:40.336 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reportes/export/excel?fechaInicio=2025-09-21&fechaFin=2025-10-21
2025-10-21 21:24:40.647 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        COALESCE(SUM(v.total), 0) 
    FROM
        Venta v 
    WHERE
        v.estado IN ('COMPLETADO', 'PAGADO') */ select
            coalesce(sum(v1_0.total), 0) 
        from
            venta v1_0 
        where
            v1_0.estado in ('COMPLETADO', 'PAGADO')
2025-10-21 21:24:40.647 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* select
        count(*) 
    from
        Venta x */ select
            count(*) 
        from
            venta v1_0
2025-10-21 21:24:40.662 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(c1_0.id_cliente) 
    from
        cliente c1_0 
    where
        c1_0.activo=?
2025-10-21 21:24:40.664 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(p1_0.id_producto) 
    from
        producto p1_0 
    where
        p1_0.activo=?
2025-10-21 21:24:40.665 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(s1_0.id_servicio) 
    from
        servicio s1_0 
    where
        s1_0.activo=?
2025-10-21 21:24:40.666 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        COALESCE(SUM(v.total), 0) 
    FROM
        Venta v 
    WHERE
        v.fechaVenta BETWEEN :inicio AND :fin 
        AND v.estado IN ('COMPLETADO', 'PAGADO') */ select
            coalesce(sum(v1_0.total), 0) 
        from
            venta v1_0 
        where
            v1_0.fecha_venta between ? and ? 
            and v1_0.estado in ('COMPLETADO', 'PAGADO')
2025-10-21 21:24:40.668 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        COALESCE(SUM(v.total), 0) 
    FROM
        Venta v 
    WHERE
        v.fechaVenta BETWEEN :inicio AND :fin 
        AND v.estado IN ('COMPLETADO', 'PAGADO') */ select
            coalesce(sum(v1_0.total), 0) 
        from
            venta v1_0 
        where
            v1_0.fecha_venta between ? and ? 
            and v1_0.estado in ('COMPLETADO', 'PAGADO')
2025-10-21 21:24:40.669 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        COALESCE(SUM(v.total), 0) 
    FROM
        Venta v 
    WHERE
        v.fechaVenta BETWEEN :inicio AND :fin 
        AND v.estado IN ('COMPLETADO', 'PAGADO') */ select
            coalesce(sum(v1_0.total), 0) 
        from
            venta v1_0 
        where
            v1_0.fecha_venta between ? and ? 
            and v1_0.estado in ('COMPLETADO', 'PAGADO')
2025-10-21 21:24:40.670 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        MAX(v.fechaVenta) 
    FROM
        Venta v */ select
            max(v1_0.fecha_venta) 
        from
            venta v1_0
2025-10-21 21:24:40.670 [http-nio-8080-exec-8] INFO  c.a.service.impl.ReporteServiceImpl - Resumen generado - Ventas totales: 1064.82, Total ventas: 19
2025-10-21 21:24:40.697 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        dv.idProductoServicio,
        dv.nombre,
        SUM(dv.cantidad),
        SUM(dv.subtotal) 
    FROM
        DetalleVenta dv 
    WHERE
        dv.tipo = 'PRODUCTO' 
    GROUP BY
        dv.idProductoServicio,
        dv.nombre 
    ORDER BY
        SUM(dv.cantidad) DESC */ select
            dv1_0.id_producto_servicio,
            dv1_0.nombre,
            sum(dv1_0.cantidad),
            sum(dv1_0.subtotal) 
        from
            detalle_venta dv1_0 
        where
            dv1_0.tipo='PRODUCTO' 
        group by
            dv1_0.id_producto_servicio,
            dv1_0.nombre 
        order by
            sum(dv1_0.cantidad) desc
2025-10-21 21:24:41.020 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        dv.idProductoServicio,
        dv.nombre,
        SUM(dv.cantidad),
        SUM(dv.subtotal) 
    FROM
        DetalleVenta dv 
    WHERE
        dv.tipo = 'SERVICIO' 
    GROUP BY
        dv.idProductoServicio,
        dv.nombre 
    ORDER BY
        SUM(dv.cantidad) DESC */ select
            dv1_0.id_producto_servicio,
            dv1_0.nombre,
            sum(dv1_0.cantidad),
            sum(dv1_0.subtotal) 
        from
            detalle_venta dv1_0 
        where
            dv1_0.tipo='SERVICIO' 
        group by
            dv1_0.id_producto_servicio,
            dv1_0.nombre 
        order by
            sum(dv1_0.cantidad) desc
2025-10-21 21:24:41.044 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        CAST(v.fechaVenta AS date),
        COUNT(v),
        SUM(v.total) 
    FROM
        Venta v 
    WHERE
        v.fechaVenta BETWEEN :inicio AND :fin 
        AND v.estado IN ('COMPLETADO', 'PAGADO') 
    GROUP BY
        CAST(v.fechaVenta AS date) 
    ORDER BY
        CAST(v.fechaVenta AS date) */ select
            cast(v1_0.fecha_venta as date),
            count(v1_0.id_venta),
            sum(v1_0.total) 
        from
            venta v1_0 
        where
            v1_0.fecha_venta between ? and ? 
            and v1_0.estado in ('COMPLETADO', 'PAGADO') 
        group by
            cast(v1_0.fecha_venta as date) 
        order by
            cast(v1_0.fecha_venta as date)
2025-10-21 21:24:41.135 [http-nio-8080-exec-8] INFO  c.a.service.impl.ReporteServiceImpl - Reporte Excel generado exitosamente
2025-10-21 21:24:41.379 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reportes/export/excel?fechaInicio=2025-09-21&fechaFin=2025-10-21
2025-10-21 21:24:41.379 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:24:41.390 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reportes/export/excel?fechaInicio=2025-09-21&fechaFin=2025-10-21
2025-10-21 21:24:41.390 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        COALESCE(SUM(v.total), 0) 
    FROM
        Venta v 
    WHERE
        v.estado IN ('COMPLETADO', 'PAGADO') */ select
            coalesce(sum(v1_0.total), 0) 
        from
            venta v1_0 
        where
            v1_0.estado in ('COMPLETADO', 'PAGADO')
2025-10-21 21:24:41.394 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* select
        count(*) 
    from
        Venta x */ select
            count(*) 
        from
            venta v1_0
2025-10-21 21:24:41.394 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(c1_0.id_cliente) 
    from
        cliente c1_0 
    where
        c1_0.activo=?
2025-10-21 21:24:41.398 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(p1_0.id_producto) 
    from
        producto p1_0 
    where
        p1_0.activo=?
2025-10-21 21:24:41.400 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(s1_0.id_servicio) 
    from
        servicio s1_0 
    where
        s1_0.activo=?
2025-10-21 21:24:41.402 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        COALESCE(SUM(v.total), 0) 
    FROM
        Venta v 
    WHERE
        v.fechaVenta BETWEEN :inicio AND :fin 
        AND v.estado IN ('COMPLETADO', 'PAGADO') */ select
            coalesce(sum(v1_0.total), 0) 
        from
            venta v1_0 
        where
            v1_0.fecha_venta between ? and ? 
            and v1_0.estado in ('COMPLETADO', 'PAGADO')
2025-10-21 21:24:41.405 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        COALESCE(SUM(v.total), 0) 
    FROM
        Venta v 
    WHERE
        v.fechaVenta BETWEEN :inicio AND :fin 
        AND v.estado IN ('COMPLETADO', 'PAGADO') */ select
            coalesce(sum(v1_0.total), 0) 
        from
            venta v1_0 
        where
            v1_0.fecha_venta between ? and ? 
            and v1_0.estado in ('COMPLETADO', 'PAGADO')
2025-10-21 21:24:41.406 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        COALESCE(SUM(v.total), 0) 
    FROM
        Venta v 
    WHERE
        v.fechaVenta BETWEEN :inicio AND :fin 
        AND v.estado IN ('COMPLETADO', 'PAGADO') */ select
            coalesce(sum(v1_0.total), 0) 
        from
            venta v1_0 
        where
            v1_0.fecha_venta between ? and ? 
            and v1_0.estado in ('COMPLETADO', 'PAGADO')
2025-10-21 21:24:41.408 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        MAX(v.fechaVenta) 
    FROM
        Venta v */ select
            max(v1_0.fecha_venta) 
        from
            venta v1_0
2025-10-21 21:24:41.408 [http-nio-8080-exec-2] INFO  c.a.service.impl.ReporteServiceImpl - Resumen generado - Ventas totales: 1064.82, Total ventas: 19
2025-10-21 21:24:41.413 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        dv.idProductoServicio,
        dv.nombre,
        SUM(dv.cantidad),
        SUM(dv.subtotal) 
    FROM
        DetalleVenta dv 
    WHERE
        dv.tipo = 'PRODUCTO' 
    GROUP BY
        dv.idProductoServicio,
        dv.nombre 
    ORDER BY
        SUM(dv.cantidad) DESC */ select
            dv1_0.id_producto_servicio,
            dv1_0.nombre,
            sum(dv1_0.cantidad),
            sum(dv1_0.subtotal) 
        from
            detalle_venta dv1_0 
        where
            dv1_0.tipo='PRODUCTO' 
        group by
            dv1_0.id_producto_servicio,
            dv1_0.nombre 
        order by
            sum(dv1_0.cantidad) desc
2025-10-21 21:24:41.421 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        dv.idProductoServicio,
        dv.nombre,
        SUM(dv.cantidad),
        SUM(dv.subtotal) 
    FROM
        DetalleVenta dv 
    WHERE
        dv.tipo = 'SERVICIO' 
    GROUP BY
        dv.idProductoServicio,
        dv.nombre 
    ORDER BY
        SUM(dv.cantidad) DESC */ select
            dv1_0.id_producto_servicio,
            dv1_0.nombre,
            sum(dv1_0.cantidad),
            sum(dv1_0.subtotal) 
        from
            detalle_venta dv1_0 
        where
            dv1_0.tipo='SERVICIO' 
        group by
            dv1_0.id_producto_servicio,
            dv1_0.nombre 
        order by
            sum(dv1_0.cantidad) desc
2025-10-21 21:24:41.434 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        CAST(v.fechaVenta AS date),
        COUNT(v),
        SUM(v.total) 
    FROM
        Venta v 
    WHERE
        v.fechaVenta BETWEEN :inicio AND :fin 
        AND v.estado IN ('COMPLETADO', 'PAGADO') 
    GROUP BY
        CAST(v.fechaVenta AS date) 
    ORDER BY
        CAST(v.fechaVenta AS date) */ select
            cast(v1_0.fecha_venta as date),
            count(v1_0.id_venta),
            sum(v1_0.total) 
        from
            venta v1_0 
        where
            v1_0.fecha_venta between ? and ? 
            and v1_0.estado in ('COMPLETADO', 'PAGADO') 
        group by
            cast(v1_0.fecha_venta as date) 
        order by
            cast(v1_0.fecha_venta as date)
2025-10-21 21:24:41.449 [http-nio-8080-exec-2] INFO  c.a.service.impl.ReporteServiceImpl - Reporte Excel generado exitosamente
2025-10-21 21:25:11.581 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reportes/export/excel?fechaInicio=2025-09-21&fechaFin=2025-10-21
2025-10-21 21:25:11.586 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:25:11.586 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reportes/export/excel?fechaInicio=2025-09-21&fechaFin=2025-10-21
2025-10-21 21:25:11.586 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        COALESCE(SUM(v.total), 0) 
    FROM
        Venta v 
    WHERE
        v.estado IN ('COMPLETADO', 'PAGADO') */ select
            coalesce(sum(v1_0.total), 0) 
        from
            venta v1_0 
        where
            v1_0.estado in ('COMPLETADO', 'PAGADO')
2025-10-21 21:25:11.586 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* select
        count(*) 
    from
        Venta x */ select
            count(*) 
        from
            venta v1_0
2025-10-21 21:25:11.596 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(c1_0.id_cliente) 
    from
        cliente c1_0 
    where
        c1_0.activo=?
2025-10-21 21:25:11.598 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(p1_0.id_producto) 
    from
        producto p1_0 
    where
        p1_0.activo=?
2025-10-21 21:25:11.600 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(s1_0.id_servicio) 
    from
        servicio s1_0 
    where
        s1_0.activo=?
2025-10-21 21:25:11.607 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        COALESCE(SUM(v.total), 0) 
    FROM
        Venta v 
    WHERE
        v.fechaVenta BETWEEN :inicio AND :fin 
        AND v.estado IN ('COMPLETADO', 'PAGADO') */ select
            coalesce(sum(v1_0.total), 0) 
        from
            venta v1_0 
        where
            v1_0.fecha_venta between ? and ? 
            and v1_0.estado in ('COMPLETADO', 'PAGADO')
2025-10-21 21:25:11.609 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        COALESCE(SUM(v.total), 0) 
    FROM
        Venta v 
    WHERE
        v.fechaVenta BETWEEN :inicio AND :fin 
        AND v.estado IN ('COMPLETADO', 'PAGADO') */ select
            coalesce(sum(v1_0.total), 0) 
        from
            venta v1_0 
        where
            v1_0.fecha_venta between ? and ? 
            and v1_0.estado in ('COMPLETADO', 'PAGADO')
2025-10-21 21:25:11.611 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        COALESCE(SUM(v.total), 0) 
    FROM
        Venta v 
    WHERE
        v.fechaVenta BETWEEN :inicio AND :fin 
        AND v.estado IN ('COMPLETADO', 'PAGADO') */ select
            coalesce(sum(v1_0.total), 0) 
        from
            venta v1_0 
        where
            v1_0.fecha_venta between ? and ? 
            and v1_0.estado in ('COMPLETADO', 'PAGADO')
2025-10-21 21:25:11.614 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        MAX(v.fechaVenta) 
    FROM
        Venta v */ select
            max(v1_0.fecha_venta) 
        from
            venta v1_0
2025-10-21 21:25:11.614 [http-nio-8080-exec-4] INFO  c.a.service.impl.ReporteServiceImpl - Resumen generado - Ventas totales: 1064.82, Total ventas: 19
2025-10-21 21:25:11.618 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        dv.idProductoServicio,
        dv.nombre,
        SUM(dv.cantidad),
        SUM(dv.subtotal) 
    FROM
        DetalleVenta dv 
    WHERE
        dv.tipo = 'PRODUCTO' 
    GROUP BY
        dv.idProductoServicio,
        dv.nombre 
    ORDER BY
        SUM(dv.cantidad) DESC */ select
            dv1_0.id_producto_servicio,
            dv1_0.nombre,
            sum(dv1_0.cantidad),
            sum(dv1_0.subtotal) 
        from
            detalle_venta dv1_0 
        where
            dv1_0.tipo='PRODUCTO' 
        group by
            dv1_0.id_producto_servicio,
            dv1_0.nombre 
        order by
            sum(dv1_0.cantidad) desc
2025-10-21 21:25:11.640 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        dv.idProductoServicio,
        dv.nombre,
        SUM(dv.cantidad),
        SUM(dv.subtotal) 
    FROM
        DetalleVenta dv 
    WHERE
        dv.tipo = 'SERVICIO' 
    GROUP BY
        dv.idProductoServicio,
        dv.nombre 
    ORDER BY
        SUM(dv.cantidad) DESC */ select
            dv1_0.id_producto_servicio,
            dv1_0.nombre,
            sum(dv1_0.cantidad),
            sum(dv1_0.subtotal) 
        from
            detalle_venta dv1_0 
        where
            dv1_0.tipo='SERVICIO' 
        group by
            dv1_0.id_producto_servicio,
            dv1_0.nombre 
        order by
            sum(dv1_0.cantidad) desc
2025-10-21 21:25:11.651 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        CAST(v.fechaVenta AS date),
        COUNT(v),
        SUM(v.total) 
    FROM
        Venta v 
    WHERE
        v.fechaVenta BETWEEN :inicio AND :fin 
        AND v.estado IN ('COMPLETADO', 'PAGADO') 
    GROUP BY
        CAST(v.fechaVenta AS date) 
    ORDER BY
        CAST(v.fechaVenta AS date) */ select
            cast(v1_0.fecha_venta as date),
            count(v1_0.id_venta),
            sum(v1_0.total) 
        from
            venta v1_0 
        where
            v1_0.fecha_venta between ? and ? 
            and v1_0.estado in ('COMPLETADO', 'PAGADO') 
        group by
            cast(v1_0.fecha_venta as date) 
        order by
            cast(v1_0.fecha_venta as date)
2025-10-21 21:25:11.662 [http-nio-8080-exec-4] INFO  c.a.service.impl.ReporteServiceImpl - Reporte Excel generado exitosamente
2025-10-21 21:25:13.830 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 21:25:13.830 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:25:13.830 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 21:25:13.879 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reportes/resumen
2025-10-21 21:25:13.886 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:25:13.886 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reportes/resumen
2025-10-21 21:25:13.886 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        COALESCE(SUM(v.total), 0) 
    FROM
        Venta v 
    WHERE
        v.estado IN ('COMPLETADO', 'PAGADO') */ select
            coalesce(sum(v1_0.total), 0) 
        from
            venta v1_0 
        where
            v1_0.estado in ('COMPLETADO', 'PAGADO')
2025-10-21 21:25:13.886 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* select
        count(*) 
    from
        Venta x */ select
            count(*) 
        from
            venta v1_0
2025-10-21 21:25:13.886 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(c1_0.id_cliente) 
    from
        cliente c1_0 
    where
        c1_0.activo=?
2025-10-21 21:25:13.886 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(p1_0.id_producto) 
    from
        producto p1_0 
    where
        p1_0.activo=?
2025-10-21 21:25:13.896 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(s1_0.id_servicio) 
    from
        servicio s1_0 
    where
        s1_0.activo=?
2025-10-21 21:25:13.896 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        COALESCE(SUM(v.total), 0) 
    FROM
        Venta v 
    WHERE
        v.fechaVenta BETWEEN :inicio AND :fin 
        AND v.estado IN ('COMPLETADO', 'PAGADO') */ select
            coalesce(sum(v1_0.total), 0) 
        from
            venta v1_0 
        where
            v1_0.fecha_venta between ? and ? 
            and v1_0.estado in ('COMPLETADO', 'PAGADO')
2025-10-21 21:25:13.896 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        COALESCE(SUM(v.total), 0) 
    FROM
        Venta v 
    WHERE
        v.fechaVenta BETWEEN :inicio AND :fin 
        AND v.estado IN ('COMPLETADO', 'PAGADO') */ select
            coalesce(sum(v1_0.total), 0) 
        from
            venta v1_0 
        where
            v1_0.fecha_venta between ? and ? 
            and v1_0.estado in ('COMPLETADO', 'PAGADO')
2025-10-21 21:25:13.896 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        COALESCE(SUM(v.total), 0) 
    FROM
        Venta v 
    WHERE
        v.fechaVenta BETWEEN :inicio AND :fin 
        AND v.estado IN ('COMPLETADO', 'PAGADO') */ select
            coalesce(sum(v1_0.total), 0) 
        from
            venta v1_0 
        where
            v1_0.fecha_venta between ? and ? 
            and v1_0.estado in ('COMPLETADO', 'PAGADO')
2025-10-21 21:25:13.896 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        MAX(v.fechaVenta) 
    FROM
        Venta v */ select
            max(v1_0.fecha_venta) 
        from
            venta v1_0
2025-10-21 21:25:13.896 [http-nio-8080-exec-7] INFO  c.a.service.impl.ReporteServiceImpl - Resumen generado - Ventas totales: 1064.82, Total ventas: 19
2025-10-21 21:25:13.909 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reportes/ventas-por-fecha?fechaInicio=2025-09-21&fechaFin=2025-10-21
2025-10-21 21:25:13.911 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:25:13.911 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reportes/ventas-por-fecha?fechaInicio=2025-09-21&fechaFin=2025-10-21
2025-10-21 21:25:13.911 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        CAST(v.fechaVenta AS date),
        COUNT(v),
        SUM(v.total) 
    FROM
        Venta v 
    WHERE
        v.fechaVenta BETWEEN :inicio AND :fin 
        AND v.estado IN ('COMPLETADO', 'PAGADO') 
    GROUP BY
        CAST(v.fechaVenta AS date) 
    ORDER BY
        CAST(v.fechaVenta AS date) */ select
            cast(v1_0.fecha_venta as date),
            count(v1_0.id_venta),
            sum(v1_0.total) 
        from
            venta v1_0 
        where
            v1_0.fecha_venta between ? and ? 
            and v1_0.estado in ('COMPLETADO', 'PAGADO') 
        group by
            cast(v1_0.fecha_venta as date) 
        order by
            cast(v1_0.fecha_venta as date)
2025-10-21 21:25:13.937 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reportes/productos-top?limit=10
2025-10-21 21:25:13.937 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:25:13.945 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reportes/productos-top?limit=10
2025-10-21 21:25:13.948 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        dv.idProductoServicio,
        dv.nombre,
        SUM(dv.cantidad),
        SUM(dv.subtotal) 
    FROM
        DetalleVenta dv 
    WHERE
        dv.tipo = 'PRODUCTO' 
    GROUP BY
        dv.idProductoServicio,
        dv.nombre 
    ORDER BY
        SUM(dv.cantidad) DESC */ select
            dv1_0.id_producto_servicio,
            dv1_0.nombre,
            sum(dv1_0.cantidad),
            sum(dv1_0.subtotal) 
        from
            detalle_venta dv1_0 
        where
            dv1_0.tipo='PRODUCTO' 
        group by
            dv1_0.id_producto_servicio,
            dv1_0.nombre 
        order by
            sum(dv1_0.cantidad) desc
2025-10-21 21:25:13.962 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reportes/servicios-top?limit=10
2025-10-21 21:25:13.962 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:25:13.962 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reportes/servicios-top?limit=10
2025-10-21 21:25:13.962 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        dv.idProductoServicio,
        dv.nombre,
        SUM(dv.cantidad),
        SUM(dv.subtotal) 
    FROM
        DetalleVenta dv 
    WHERE
        dv.tipo = 'SERVICIO' 
    GROUP BY
        dv.idProductoServicio,
        dv.nombre 
    ORDER BY
        SUM(dv.cantidad) DESC */ select
            dv1_0.id_producto_servicio,
            dv1_0.nombre,
            sum(dv1_0.cantidad),
            sum(dv1_0.subtotal) 
        from
            detalle_venta dv1_0 
        where
            dv1_0.tipo='SERVICIO' 
        group by
            dv1_0.id_producto_servicio,
            dv1_0.nombre 
        order by
            sum(dv1_0.cantidad) desc
2025-10-21 21:25:26.697 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-10-21 21:25:26.698 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:25:26.698 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-10-21 21:25:26.699 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /index.html
2025-10-21 21:25:26.699 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /index.html
2025-10-21 21:25:26.752 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/styles.css
2025-10-21 21:25:26.753 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:25:26.753 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/styles.css
2025-10-21 21:25:26.760 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/config.js
2025-10-21 21:25:26.760 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/logo-gym.png
2025-10-21 21:25:26.760 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/auth.js
2025-10-21 21:25:26.760 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:25:26.760 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:25:26.760 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:25:26.760 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/auth.js
2025-10-21 21:25:26.760 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/logo-gym.png
2025-10-21 21:25:26.760 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/config.js
2025-10-21 21:25:26.763 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/utils.js
2025-10-21 21:25:26.763 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/cart.js
2025-10-21 21:25:26.763 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:25:26.763 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:25:26.763 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/utils.js
2025-10-21 21:25:26.763 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/cart.js
2025-10-21 21:25:26.764 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
2025-10-21 21:25:26.764 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:25:26.764 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
2025-10-21 21:25:34.244 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-21 21:25:34.244 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:25:34.244 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-21 21:25:34.246 [http-nio-8080-exec-8] INFO  c.applegym.controller.AuthController - Intento de inicio de sesión para usuario: pepe@gmail.com
2025-10-21 21:25:34.248 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:25:34.509 [http-nio-8080-exec-8] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-10-21 21:25:34.512 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=?
2025-10-21 21:25:34.514 [http-nio-8080-exec-8] INFO  c.applegym.controller.AuthController - Inicio de sesión exitoso para usuario: pepe@gmail.com - Token generado
2025-10-21 21:25:39.684 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /catalogo.html
2025-10-21 21:25:39.685 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:25:39.685 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /catalogo.html
2025-10-21 21:25:39.701 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/catalog.js
2025-10-21 21:25:39.702 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:25:39.702 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/catalog.js
2025-10-21 21:25:39.715 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-full/catalogo
2025-10-21 21:25:39.715 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-21 21:25:39.715 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-full/catalogo
2025-10-21 21:25:39.716 [http-nio-8080-exec-9] INFO  c.a.controller.TestControllerFull - Obteniendo catálogo desde base de datos MySQL
2025-10-21 21:25:39.722 [http-nio-8080-exec-9] INFO  c.a.controller.TestControllerFull - ✅ Catálogo cargado exitosamente: 1 productos, 12 servicios
2025-10-21 21:25:58.032 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/carrito/agregar
2025-10-21 21:25:58.037 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:25:58.039 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/carrito/agregar
2025-10-21 21:25:58.068 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:25:58.083 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_carrito,
        c1_0.id_cliente,
        c1_0.estado,
        c1_0.fecha,
        c1_0.fecha_actualizacion,
        c1_0.total 
    from
        carrito c1_0 
    where
        c1_0.id_cliente=? 
        and c1_0.estado=?
2025-10-21 21:25:58.103 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.Carrito */insert 
    into
        carrito (id_cliente, estado, fecha, fecha_actualizacion, total) 
    values
        (?, ?, ?, ?, ?)
2025-10-21 21:25:58.121 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        s1_0.id_servicio,
        s1_0.activo,
        s1_0.capacidad_maxima,
        s1_0.id_categoria,
        s1_0.descripcion,
        s1_0.duracion,
        s1_0.fecha_actualizacion,
        s1_0.fecha_creacion,
        s1_0.imagen_url,
        s1_0.nombre,
        s1_0.precio 
    from
        servicio s1_0 
    where
        s1_0.id_servicio=?
2025-10-21 21:25:58.134 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.DetalleCarrito */insert 
    into
        detalle_carrito (cantidad, id_carrito, descripcion_item, descuento_aplicado, fecha_agregado, id_item, nombre_item, precio_unitario, id_producto, id_promocion, id_servicio, subtotal, tipo) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-21 21:25:58.137 [http-nio-8080-exec-7] INFO  c.a.service.impl.CarritoServiceImpl - Item agregado al carrito exitosamente - Carrito ID: 49
2025-10-21 21:25:58.172 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* update
        for com.applegym.entity.Carrito */update carrito 
    set
        id_cliente=?,
        estado=?,
        fecha=?,
        fecha_actualizacion=?,
        total=? 
    where
        id_carrito=?
2025-10-21 21:25:58.192 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/carrito/agregar
2025-10-21 21:25:58.198 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:25:58.200 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/carrito/agregar
2025-10-21 21:25:58.203 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:25:58.205 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_carrito,
        c1_0.id_cliente,
        c1_0.estado,
        c1_0.fecha,
        c1_0.fecha_actualizacion,
        c1_0.total 
    from
        carrito c1_0 
    where
        c1_0.id_cliente=? 
        and c1_0.estado=?
2025-10-21 21:25:58.206 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        s1_0.id_servicio,
        s1_0.activo,
        s1_0.capacidad_maxima,
        s1_0.id_categoria,
        s1_0.descripcion,
        s1_0.duracion,
        s1_0.fecha_actualizacion,
        s1_0.fecha_creacion,
        s1_0.imagen_url,
        s1_0.nombre,
        s1_0.precio 
    from
        servicio s1_0 
    where
        s1_0.id_servicio=?
2025-10-21 21:25:58.211 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        d1_0.id_carrito,
        d1_0.id_detalle_carrito,
        d1_0.cantidad,
        d1_0.descripcion_item,
        d1_0.descuento_aplicado,
        d1_0.fecha_agregado,
        d1_0.id_item,
        d1_0.nombre_item,
        d1_0.precio_unitario,
        d1_0.id_producto,
        d1_0.id_promocion,
        d1_0.id_servicio,
        d1_0.subtotal,
        d1_0.tipo 
    from
        detalle_carrito d1_0 
    where
        d1_0.id_carrito=?
2025-10-21 21:25:58.215 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.DetalleCarrito */insert 
    into
        detalle_carrito (cantidad, id_carrito, descripcion_item, descuento_aplicado, fecha_agregado, id_item, nombre_item, precio_unitario, id_producto, id_promocion, id_servicio, subtotal, tipo) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-21 21:25:58.217 [http-nio-8080-exec-1] INFO  c.a.service.impl.CarritoServiceImpl - Item agregado al carrito exitosamente - Carrito ID: 49
2025-10-21 21:25:58.219 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* update
        for com.applegym.entity.Carrito */update carrito 
    set
        id_cliente=?,
        estado=?,
        fecha=?,
        fecha_actualizacion=?,
        total=? 
    where
        id_carrito=?
2025-10-21 21:25:58.233 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/carrito/agregar
2025-10-21 21:25:58.237 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:25:58.238 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/carrito/agregar
2025-10-21 21:25:58.241 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:25:58.244 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_carrito,
        c1_0.id_cliente,
        c1_0.estado,
        c1_0.fecha,
        c1_0.fecha_actualizacion,
        c1_0.total 
    from
        carrito c1_0 
    where
        c1_0.id_cliente=? 
        and c1_0.estado=?
2025-10-21 21:25:58.246 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        s1_0.id_servicio,
        s1_0.activo,
        s1_0.capacidad_maxima,
        s1_0.id_categoria,
        s1_0.descripcion,
        s1_0.duracion,
        s1_0.fecha_actualizacion,
        s1_0.fecha_creacion,
        s1_0.imagen_url,
        s1_0.nombre,
        s1_0.precio 
    from
        servicio s1_0 
    where
        s1_0.id_servicio=?
2025-10-21 21:25:58.247 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        d1_0.id_carrito,
        d1_0.id_detalle_carrito,
        d1_0.cantidad,
        d1_0.descripcion_item,
        d1_0.descuento_aplicado,
        d1_0.fecha_agregado,
        d1_0.id_item,
        d1_0.nombre_item,
        d1_0.precio_unitario,
        d1_0.id_producto,
        d1_0.id_promocion,
        d1_0.id_servicio,
        d1_0.subtotal,
        d1_0.tipo 
    from
        detalle_carrito d1_0 
    where
        d1_0.id_carrito=?
2025-10-21 21:25:58.249 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.DetalleCarrito */insert 
    into
        detalle_carrito (cantidad, id_carrito, descripcion_item, descuento_aplicado, fecha_agregado, id_item, nombre_item, precio_unitario, id_producto, id_promocion, id_servicio, subtotal, tipo) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-21 21:25:58.250 [http-nio-8080-exec-3] INFO  c.a.service.impl.CarritoServiceImpl - Item agregado al carrito exitosamente - Carrito ID: 49
2025-10-21 21:25:58.252 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* update
        for com.applegym.entity.Carrito */update carrito 
    set
        id_cliente=?,
        estado=?,
        fecha=?,
        fecha_actualizacion=?,
        total=? 
    where
        id_carrito=?
2025-10-21 21:25:58.264 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/ventas/procesar
2025-10-21 21:25:58.268 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:25:58.270 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/ventas/procesar
2025-10-21 21:25:58.273 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:25:58.274 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_carrito,
        c1_0.id_cliente,
        c1_0.estado,
        c1_0.fecha,
        c1_0.fecha_actualizacion,
        c1_0.total 
    from
        carrito c1_0 
    where
        c1_0.id_cliente=? 
        and c1_0.estado=?
2025-10-21 21:25:58.276 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        d1_0.id_carrito,
        d1_0.id_detalle_carrito,
        d1_0.cantidad,
        d1_0.descripcion_item,
        d1_0.descuento_aplicado,
        d1_0.fecha_agregado,
        d1_0.id_item,
        d1_0.nombre_item,
        d1_0.precio_unitario,
        d1_0.id_producto,
        d1_0.id_promocion,
        d1_0.id_servicio,
        d1_0.subtotal,
        d1_0.tipo 
    from
        detalle_carrito d1_0 
    where
        d1_0.id_carrito=?
2025-10-21 21:25:58.277 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        s1_0.id_servicio,
        s1_0.activo,
        s1_0.capacidad_maxima,
        s1_0.id_categoria,
        s1_0.descripcion,
        s1_0.duracion,
        s1_0.fecha_actualizacion,
        s1_0.fecha_creacion,
        s1_0.imagen_url,
        s1_0.nombre,
        s1_0.precio 
    from
        servicio s1_0 
    where
        s1_0.id_servicio=?
2025-10-21 21:25:58.279 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        s1_0.id_servicio,
        s1_0.activo,
        s1_0.capacidad_maxima,
        s1_0.id_categoria,
        s1_0.descripcion,
        s1_0.duracion,
        s1_0.fecha_actualizacion,
        s1_0.fecha_creacion,
        s1_0.imagen_url,
        s1_0.nombre,
        s1_0.precio 
    from
        servicio s1_0 
    where
        s1_0.id_servicio=?
2025-10-21 21:25:58.280 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        s1_0.id_servicio,
        s1_0.activo,
        s1_0.capacidad_maxima,
        s1_0.id_categoria,
        s1_0.descripcion,
        s1_0.duracion,
        s1_0.fecha_actualizacion,
        s1_0.fecha_creacion,
        s1_0.imagen_url,
        s1_0.nombre,
        s1_0.precio 
    from
        servicio s1_0 
    where
        s1_0.id_servicio=?
2025-10-21 21:25:58.285 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.Venta */insert 
    into
        venta (id_cliente, estado, fecha_actualizacion, fecha_venta, numero_venta, observaciones, total) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-10-21 21:25:58.290 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.Comprobante */insert 
    into
        comprobante (archivo_comprobante, estado_comprobante, fecha_actualizacion, fecha_emision, fecha_envio, hash_documento, numero_comprobante, observaciones, serie_comprobante, tipo_comprobante, url_descarga, id_venta) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-21 21:25:58.295 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.DetalleVenta */insert 
    into
        detalle_venta (cantidad, descuento_aplicado, fecha_creacion, id_producto_servicio, nombre, precio_unitario, id_producto, id_servicio, subtotal, tipo, id_venta) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-21 21:25:58.297 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.DetalleVenta */insert 
    into
        detalle_venta (cantidad, descuento_aplicado, fecha_creacion, id_producto_servicio, nombre, precio_unitario, id_producto, id_servicio, subtotal, tipo, id_venta) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-21 21:25:58.298 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.DetalleVenta */insert 
    into
        detalle_venta (cantidad, descuento_aplicado, fecha_creacion, id_producto_servicio, nombre, precio_unitario, id_producto, id_servicio, subtotal, tipo, id_venta) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-21 21:25:58.302 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* insert for
        com.applegym.entity.Pago */insert 
    into
        pago (codigo_autorizacion, detalles_pago, estado_pago, fecha_actualizacion, fecha_pago, fecha_procesamiento, monto, numero_transaccion, referencia_externa, tipo_pago, id_venta) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-21 21:25:58.303 [http-nio-8080-exec-5] INFO  c.a.service.impl.VentaServiceImpl - Venta procesada exitosamente - ID: 20, Total: 53.49
2025-10-21 21:25:58.311 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* update
        for com.applegym.entity.Carrito */update carrito 
    set
        id_cliente=?,
        estado=?,
        fecha=?,
        fecha_actualizacion=?,
        total=? 
    where
        id_carrito=?
2025-10-21 21:25:58.321 [http-nio-8080-exec-5] INFO  c.a.controller.VentaController - Venta procesada exitosamente - ID: 20, Cliente: pepe@gmail.com
2025-10-21 21:25:58.328 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/ventas/comprobante/20/pdf
2025-10-21 21:25:58.333 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:25:58.335 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/ventas/comprobante/20/pdf
2025-10-21 21:25:58.342 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        v1_0.id_venta,
        v1_0.id_cliente,
        v1_0.estado,
        v1_0.fecha_actualizacion,
        v1_0.fecha_venta,
        v1_0.numero_venta,
        v1_0.observaciones,
        v1_0.total 
    from
        venta v1_0 
    where
        v1_0.id_venta=?
2025-10-21 21:25:58.346 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id_comprobante,
        c1_0.archivo_comprobante,
        c1_0.estado_comprobante,
        c1_0.fecha_actualizacion,
        c1_0.fecha_emision,
        c1_0.fecha_envio,
        c1_0.hash_documento,
        c1_0.numero_comprobante,
        c1_0.observaciones,
        c1_0.serie_comprobante,
        c1_0.tipo_comprobante,
        c1_0.url_descarga,
        c1_0.id_venta 
    from
        comprobante c1_0 
    where
        c1_0.id_venta=?
2025-10-21 21:25:58.347 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id_pago,
        p1_0.codigo_autorizacion,
        p1_0.detalles_pago,
        p1_0.estado_pago,
        p1_0.fecha_actualizacion,
        p1_0.fecha_pago,
        p1_0.fecha_procesamiento,
        p1_0.monto,
        p1_0.numero_transaccion,
        p1_0.referencia_externa,
        p1_0.tipo_pago,
        p1_0.id_venta 
    from
        pago p1_0 
    where
        p1_0.id_venta=?
2025-10-21 21:25:58.349 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.id_cliente=?
2025-10-21 21:25:58.350 [http-nio-8080-exec-2] INFO  c.a.service.impl.PdfServiceImpl - Generando PDF para venta ID: 20
2025-10-21 21:25:58.471 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        d1_0.id_venta,
        d1_0.id_detalle,
        d1_0.cantidad,
        d1_0.descuento_aplicado,
        d1_0.fecha_creacion,
        d1_0.id_producto_servicio,
        d1_0.nombre,
        d1_0.precio_unitario,
        d1_0.id_producto,
        d1_0.id_servicio,
        d1_0.subtotal,
        d1_0.tipo 
    from
        detalle_venta d1_0 
    where
        d1_0.id_venta=?
2025-10-21 21:25:58.492 [http-nio-8080-exec-2] INFO  c.a.service.impl.PdfServiceImpl - PDF generado exitosamente para venta ID: 20
2025-10-21 21:25:58.492 [http-nio-8080-exec-2] INFO  c.a.controller.VentaController - PDF generado para venta ID: 20, Cliente: pepe@gmail.com
2025-10-21 21:26:06.016 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reportes/resumen
2025-10-21 21:26:06.021 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:26:06.022 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reportes/resumen
2025-10-21 21:26:06.024 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        COALESCE(SUM(v.total), 0) 
    FROM
        Venta v 
    WHERE
        v.estado IN ('COMPLETADO', 'PAGADO') */ select
            coalesce(sum(v1_0.total), 0) 
        from
            venta v1_0 
        where
            v1_0.estado in ('COMPLETADO', 'PAGADO')
2025-10-21 21:26:06.025 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* select
        count(*) 
    from
        Venta x */ select
            count(*) 
        from
            venta v1_0
2025-10-21 21:26:06.027 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(c1_0.id_cliente) 
    from
        cliente c1_0 
    where
        c1_0.activo=?
2025-10-21 21:26:06.028 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(p1_0.id_producto) 
    from
        producto p1_0 
    where
        p1_0.activo=?
2025-10-21 21:26:06.030 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(s1_0.id_servicio) 
    from
        servicio s1_0 
    where
        s1_0.activo=?
2025-10-21 21:26:06.031 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        COALESCE(SUM(v.total), 0) 
    FROM
        Venta v 
    WHERE
        v.fechaVenta BETWEEN :inicio AND :fin 
        AND v.estado IN ('COMPLETADO', 'PAGADO') */ select
            coalesce(sum(v1_0.total), 0) 
        from
            venta v1_0 
        where
            v1_0.fecha_venta between ? and ? 
            and v1_0.estado in ('COMPLETADO', 'PAGADO')
2025-10-21 21:26:06.033 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        COALESCE(SUM(v.total), 0) 
    FROM
        Venta v 
    WHERE
        v.fechaVenta BETWEEN :inicio AND :fin 
        AND v.estado IN ('COMPLETADO', 'PAGADO') */ select
            coalesce(sum(v1_0.total), 0) 
        from
            venta v1_0 
        where
            v1_0.fecha_venta between ? and ? 
            and v1_0.estado in ('COMPLETADO', 'PAGADO')
2025-10-21 21:26:06.035 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        COALESCE(SUM(v.total), 0) 
    FROM
        Venta v 
    WHERE
        v.fechaVenta BETWEEN :inicio AND :fin 
        AND v.estado IN ('COMPLETADO', 'PAGADO') */ select
            coalesce(sum(v1_0.total), 0) 
        from
            venta v1_0 
        where
            v1_0.fecha_venta between ? and ? 
            and v1_0.estado in ('COMPLETADO', 'PAGADO')
2025-10-21 21:26:06.036 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        MAX(v.fechaVenta) 
    FROM
        Venta v */ select
            max(v1_0.fecha_venta) 
        from
            venta v1_0
2025-10-21 21:26:06.036 [http-nio-8080-exec-4] INFO  c.a.service.impl.ReporteServiceImpl - Resumen generado - Ventas totales: 1118.31, Total ventas: 20
2025-10-21 21:26:06.041 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reportes/ventas-por-fecha?fechaInicio=2025-09-21&fechaFin=2025-10-21
2025-10-21 21:26:06.045 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:26:06.047 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reportes/ventas-por-fecha?fechaInicio=2025-09-21&fechaFin=2025-10-21
2025-10-21 21:26:06.049 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        CAST(v.fechaVenta AS date),
        COUNT(v),
        SUM(v.total) 
    FROM
        Venta v 
    WHERE
        v.fechaVenta BETWEEN :inicio AND :fin 
        AND v.estado IN ('COMPLETADO', 'PAGADO') 
    GROUP BY
        CAST(v.fechaVenta AS date) 
    ORDER BY
        CAST(v.fechaVenta AS date) */ select
            cast(v1_0.fecha_venta as date),
            count(v1_0.id_venta),
            sum(v1_0.total) 
        from
            venta v1_0 
        where
            v1_0.fecha_venta between ? and ? 
            and v1_0.estado in ('COMPLETADO', 'PAGADO') 
        group by
            cast(v1_0.fecha_venta as date) 
        order by
            cast(v1_0.fecha_venta as date)
2025-10-21 21:26:06.063 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reportes/productos-top?limit=10
2025-10-21 21:26:06.070 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:26:06.071 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reportes/productos-top?limit=10
2025-10-21 21:26:06.073 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        dv.idProductoServicio,
        dv.nombre,
        SUM(dv.cantidad),
        SUM(dv.subtotal) 
    FROM
        DetalleVenta dv 
    WHERE
        dv.tipo = 'PRODUCTO' 
    GROUP BY
        dv.idProductoServicio,
        dv.nombre 
    ORDER BY
        SUM(dv.cantidad) DESC */ select
            dv1_0.id_producto_servicio,
            dv1_0.nombre,
            sum(dv1_0.cantidad),
            sum(dv1_0.subtotal) 
        from
            detalle_venta dv1_0 
        where
            dv1_0.tipo='PRODUCTO' 
        group by
            dv1_0.id_producto_servicio,
            dv1_0.nombre 
        order by
            sum(dv1_0.cantidad) desc
2025-10-21 21:26:06.085 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reportes/servicios-top?limit=10
2025-10-21 21:26:06.089 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id_cliente,
        c1_0.activo,
        c1_0.direccion,
        c1_0.email,
        c1_0.fecha_actualizacion,
        c1_0.fecha_registro,
        c1_0.nombre_cliente,
        c1_0.password,
        c1_0.rol,
        c1_0.telefono 
    from
        cliente c1_0 
    where
        c1_0.email=? 
        and c1_0.activo=?
2025-10-21 21:26:06.091 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reportes/servicios-top?limit=10
2025-10-21 21:26:06.093 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        dv.idProductoServicio,
        dv.nombre,
        SUM(dv.cantidad),
        SUM(dv.subtotal) 
    FROM
        DetalleVenta dv 
    WHERE
        dv.tipo = 'SERVICIO' 
    GROUP BY
        dv.idProductoServicio,
        dv.nombre 
    ORDER BY
        SUM(dv.cantidad) DESC */ select
            dv1_0.id_producto_servicio,
            dv1_0.nombre,
            sum(dv1_0.cantidad),
            sum(dv1_0.subtotal) 
        from
            detalle_venta dv1_0 
        where
            dv1_0.tipo='SERVICIO' 
        group by
            dv1_0.id_producto_servicio,
            dv1_0.nombre 
        order by
            sum(dv1_0.cantidad) desc
2025-10-21 21:26:31.705 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-21 21:26:31.705 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-21 21:26:31.721 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
